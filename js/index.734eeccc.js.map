{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ui/history/index.vue?564f","webpack:///./src/assets/sound/move-self.webm","webpack:///./src/assets/sound/move-check.webm","webpack:///./src/assets/sound/capture.webm","webpack:///./src/ui/board/square.vue?f8ab","webpack:///./src/assets/sound/move-opponent.webm","webpack:///./src/assets/sound/promote.webm","webpack:///./src/ui/board/position.vue?8a85","webpack:///./src/ui/board/index.vue?1530","webpack:///./src/main.vue?a319","webpack:///./src/ui/board/grab-overlay.vue?3be5","webpack:///./src/main.vue","webpack:///./src/chess.ts","webpack:///./src/ui/game.vue","webpack:///./src/ui/board/index.vue","webpack:///./src/ui/board/piece.vue","webpack:///./src/ui/board/piece.vue?f826","webpack:///./src/ui/board/square.vue","webpack:///./src/ui/board/square.vue?a6f7","webpack:///./src/ui/board/position.vue","webpack:///./src/ui/board/position.vue?a8af","webpack:///./src/ui/board/grab-overlay.vue","webpack:///./src/ui/board/grab-overlay.vue?f639","webpack:///./src/ui/board/index.vue?0c05","webpack:///./src/ui/history/index.vue","webpack:///./src/ui/history/index.vue?6f48","webpack:///./src/ui/game.vue?914e","webpack:///./src/ui/local-game.vue","webpack:///./src/history.ts","webpack:///./src/ui/local-game.vue?490b","webpack:///./src/main.vue?3062","webpack:///./src/main.ts","webpack:///./src/assets/sound/premove.webm","webpack:///./src/ui/board/piece.vue?f87e","webpack:///./src/main.vue?dcbd","webpack:///./src/assets/sound/castle.webm"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_createElementVNode","_createBlock","_component_v_app","align-center","class","$setup","state","_component_game","color","board","history","last-move","onInput","move","actions","_createVNode","_component_v_flex","justify-center","_createElementBlock","_Fragment","_component_v_text","title","_component_v_button","onClick","reset","_hoisted_4","small","_hoisted_5","_component_local_game","icon","onMouseleave","_component_v_icon","bold","style","_component_v_text_field","ref","solo","model-value","Color","Position","Board","Move","Rules","Piece","kind","freeze","Offset","ranks","files","zip","a","b","Error","map","v","column","_component_board","$props","animate","onMove","_renderSlot","_ctx","_component_history","active","$event","other","strings","rank","parseInt","file","add","indexOf","f","arguments","offset","from","to","slide","inclusive","Math","abs","count","max","sR","sign","sF","eq","copy","pieces","Map","save","position","piece","all","load","raw","empty","white_kingside_castle","white_queenside_castle","black_kingside_castle","black_queenside_castle","white_passant","black_passant","next","white","starting","back","rook","knight","bishop","queen","king","pos","by_rank","set","pawn","black","validate","normal","assert","a1","h1","a8","h8","delete","captured","castle","expected_from","rook_from","rook_to","some","is_threatened","has","en_passant","capture","pair","find","promotion","promote","promoted","dir","origin","passe","every","e1","f1","e8","f8","d1","d8","resolve","check","undefined","list","all_legal_moves","keys","size","victim","assign","devtoolsFormatters","header","includes","hasBody","grabbing","grab","onDragstart","onContextmenu","onMouseup","onMousemove","onMousedown","onTouchend","onTouchmove","onTouchstart","_hoisted_1","square","_component_square","_component_position","live","_component_piece","legalMoves","take","_component_grab_overlay","root","moving","props","setup","inject","computed","width","height","__exports__","Boolean","y","x","transform","components","mouse","reactive","top","left","updateMouse","min","offsetLeft","offsetWidth","offsetTop","offsetHeight","onMouseEvent","e","clientX","clientY","onTouchEvent","changedTouches","document","body","addEventListener","onBeforeUnmount","removeEventListener","sounds","url","entries","sound_assets","audio","Audio","play_sound","currentTime","play","grabOverlay","emits","String","lastMove","emit","shallowRef","provide","toRef","floor","innerWidth","innerHeight","squares","reverse","concat","hover","localMove","ordering","watchEffect","values","watch","_","onInvalidate","setImmediate","clearImmediate","sort","positionAt","by_file","startDrag","moveDrag","endDrag","onMouseLeave","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","row","align-baseline","even","text","notation","Array","rows","preview","profile","_0","_1","oldLastMove","index","oldIndex","oldColor","disabled","_hoisted_2","letters","notate","ambiguous","filter","game","latest","markRaw","flip","restore","localGame","remote","base","location","link","pathname","code","linkInput","linkCopied","copyLink","select","execCommand","render","RoomCode","Packet","define","GetState","SetState","AddMove","remote_game","socket","host","send_state","send","h","URL","href","searchParams","WebSocket","on","receive","replaceState","search","app","createApp","main","use","framework","scroll_lock","directive","beforeUpdate","el","binding","ctx","consumed","lock","scrollHeight","clientHeight","scrollTop","updated","scroll","mounted","vnode","mount"],"mappings":"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","file":"js/index.734eeccc.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=b2b0de7a&lang=scss&scoped=true\"","module.exports = \"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAANvBFNm3RALE27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEjTbuMU6uEElTDZ1OsggGR7AEAAAAAAACqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU4LjI3LjEwM1dBjUxhdmY1OC4yNy4xMDNEiYhAZqAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgRhjopNPcHVzSGVhZAECOAGAuwAAAAAAElTDZwEAAAAAAAFYc3MBAAAAAAAAxmPAAQAAAAAAAABnyAEAAAAAAAAZRaOKRU5DT0RFRF9CWUSHiVBybyBUb29sc2fIAQAAAAAAACZFo5RPUklHSU5BVE9SX1JFRkVSRU5DRUSHjGFhTzRLdCFCS3ZTa2fIAQAAAAAAABRFo4REQVRFRIeKMjAxOS0wNC0yMWfIAQAAAAAAAB1Fo45USU1FX1JFRkVSRU5DRUSHiTE3MjgwMDAwMGfIAQAAAAAAABpFo4dFTkNPREVSRIeNTGF2ZjU4LjI3LjEwM3NzAQAAAAAAADpjwAEAAAAAAAAEY8WBAWfIAQAAAAAAACJFo4dFTkNPREVSRIeVTGF2YzU4LjUyLjEwMCBsaWJvcHVzc3MBAAAAAAAAOmPAAQAAAAAAAARjxYEBZ8gBAAAAAAAAIkWjiERVUkFUSU9ORIeUMDA6MDA6MDAuMTgxMDAwMDAwAAAfQ7Z1AQAAAAAACrvngQCjQZ2BAACA/H8FGiPB6aFN7qOZQXFor0Ku8zVi41LtlgRtp/XgoJ6K8x1uzTh2CIhSB+Um/xUVjaigWT75dLCk8UI0krDIVLPqMyiwOBKJbanMYDqpV52iJGd9tMnxMG0dFjkZVkJRTJSL5j+idd7LDm+G+ITHmF3aYaX4HrxoAp+5dM5TlmG9mZONnXLIyJJA4DEKOLfwqzI+L+wA2/p7MwtMNzBcybSnwoGwzw7tYZILzlld8lccv7cZpyzJKQY+DsysX0wwROBv4ioie+6/fbnB43NwhoYHT7/y/aAmQehqltosKymQk3LWAecDslCJtwSmTAHRPJjsYUOGdgSBGKcCgkRXOEFZoAf5CKvHU7zijpzNQ5v6vLQTkP0fOkFM3Z2uNKIEknFvXLzb8WieVkYZ66nwzS5tQtonqQmFg/EfIH8Ds967XFoK5xVrJamYV0JVMcI2gGuirV0Yk3vZU0Ztq3mxA/qYzzr0TIiaUGZz2QvXlzM/P375yH7QsM7ySmHOtbXKe5j0xmuq8xeWdrRHaRKRwgdtK1L68JLZAKNBbIEAFYD8eXRg1M9LLSsnHdRS7FrQ6hZte/RvAc3FJvY0pCX7O9cAjiKeKhcPVTMzwG5KWSs9QhxlcHZMw/efRDSY90swWIbv5D8nVlJo3XLBXBLiHlk3OF8Pobujjrfy/nlzb2ohfD70OBOeHOIhDC1wL5mqnW4+zWdGqCeqNHpGXfmf0LTTVQl5aZ5eCL9hsr1ROHILCJXgwjk+O1pqKp0VGUtygG8NP1IGIPOyMT1lNWP8f0lYDzWNvsqQ8W1uyn3YWbZvaDJtYYzsuW9/YaNE6hc6TXGTINIOUTOdpnneb7Cz+Er9Cl26hRF2ZInSfMGLSpJzracK2+9jisDTfxGGzXNF/Q80px19gPP5fVqBSGDY8GcoSm7Ss2WiKKmsHbT2GqOD0O7y5ldyzeRDh/6EMPYa4J9cUTqict8dBJOblLtk59ZhAdtagActQbnKTPnDBywsX2SPxgqtMYHzPyZNv0iLbWRWvZ3O9tqjQNeBACmA/Ft28QAq/VKKVpawFlq48SFtp5dIKhLk1/b3znpYVnnR8F6IGzGUjlFuV3mHY5NTfXfFyYewz20XXyalbiX5mzFYn1LsRisUExJgldEAeKDPn0xm0C9mnb3X8bIRu2l3h7C2CKf6Xl+0MIXHOd/FEsvjItQ2gwW86ErPHxN7YpHs4JeeZXxgpYbNa6cMcbSn3358Q4wGGkzRmW2C7S2PHAEFhxInu1gxRE6pL6Ek4YhiZy8raWoeprnGxCOEoA9vnP0PURyotkJtAGQYpKQ+YeYceaNA2YEAPYD8VAijvT4XMjQhO2PDnebgC5tSeJfUbTNtfkxmlXniguv0iVT6BUVxmsXhiswZYNl6SywXYy9Mo8UPXkiTtvkX+P/KcuW3qS+Ab9QDbgKpZhffLQyw5QG6uqncSOIRr0zksNoft8b80Nwwwn/gvtCo73qNkfqpF1CcPeoWZjm51bhKC8zLP1qcoiaJObTTcjIWHge9m4Kt6kh6PHDj+2ckkqZa1MZM9Nu7KVvN73OYAKSXV3gQZt5OaOj9+dYZKaHeVsT8ZpTs7bQEvgQeMbf5LmK6SCCjQOOBAFGA/FtbqS4lkqW0Mj4NjxaqAP5WwObXykhZeX5rF5x7TC4ATdzdcb3RiKodbg7parOJb0C5wrjsmWoGyVlPFy2sarhwOjtto7aDY2g+JCxnnTIEnZuCnFJFgYOrT0EpUwH1SkPPBuBa/QVuZcO3fdvoIs4xleQshZHa54df1ya+H4KpMYPKzWgtWZD6m8D1x13XgrgMupeqUWRb6L7FIcawHufkDNY8tNq4Dop86Enshr10ZwLxJiNAjikB5e7ooXiedFxrB3Ts+/PZiGt6Yv414BIDa3enKKsgi3SC4KtMCKNA2IEAZYD8VAU3a0gSwOOicKRhsij5ERP+SWJdGadhqRyb7nU3Jb0cV8CCROri8HP9zzoOl/5hu/ShVTHG6xIChGOSaVXevKKyUOs5yBKpU6UdveDYdy9YAvrpCJY2TgUnQHbih4tjLPNw8BZXDcZEFkK6xcd3Me2JRU/r5OCYAPf7VNOm+40QSx0WNSrTG1HOWVJVlF/o9vqojiH5K/Wbx64E0wshqoxocGlsr/OQts3lyFl0RqmXkEFknoZtHiO4frYPpPiBu+jdGDo3UBsTMcTUKSK8rz/eIKNA3YEAeYD8XtB9UINlo0igBXQ4Kauy7IS2qtZ2gh+TVz/oqoeEGHPzvUWbCk9D9gNV+x7wAalE9LiKm7GyVW0jD9Vb7P5JcsWKQQjtnEIYr6cQHaA7dwU7CPwaWSQwpOfygRkthI+Oi1R72oq0Ts6BEmrz0VfaoODTwzDKJF/WKLcfW5x6HMWIOh0RbcTJBpbfDI7q8JlQ2l1NYeJDqYhWLS9bihb+N0arRAnCfgX5700YatCOXrrNj4qDv53gaFiwudyqhT9IJFt68D/uvDbuZesUIkIlyANS1+Fp3F2qo0FegQCNgPx776ktRzaHF7asCoyv33EO9Ddnq40a/WzL7NFQQ9L2n28zVhgv7E/39bejY8shcCDi3PIPwofcqNOaT1YKXbiCChgGuFxV+lRu4LtFjWYwaPMxnENevdWH+kijodb59IiqDxwBDs/rj+MTKVKp/POivlXLmXBBkc/fKrtRcaP09bwY4ovtSlQwqhtn3WD3hHZnHuP8A6HeCUf34OPMgxuZzSShau5xGhXA/mVuVNP6yFj/t6KkkkI3DjmCPlG1/zxD0FswQvglzW+wAnwgwJ9kCEC/TlRPc024XHLWmCZ3ia0+A9Lfnly+4s+sS7inbuI7NEVDETY08rn4TXLxa8Ld/mGhZWlBvFVvEDYfD/COQNfCDuicfgi4pqf0tJFe5jHiF7SMg8lmaHjSTP53TukO8adwcl4nFhcV0VhtZbt54Glvt3ZcFdIqM1PUOPW8OReO3Z4X7tcvzaigAQAAAAAAAeihQd6BAKEA/H/3CtDnodjA6NL/U6tCgq6ABKfRNjhIZG/vnr7Vo8KGNKi1VrS1RTBxWirQN1DlxKDIhSL2RNCRNyGHiJCXEDEEIDzEj20WXdkdmyvnYXQQsG4DJ9B5iBY01ElXMPrBiTPfzUuuNhn+t9HNE4+f4+DVf9++GK5thWRkMoY/7yCZK3LuTqIL8+gqm18LfVV35gtrfgdkVHE0kmhX5YmmGJnU5+ZIlW2nyzAND/yASzGRUSSwOfLoO3EOKHC4mubICgC3wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABphUrgiyw5yGiWhhxdNNkli0KBwLSyYRxfWVCCsukR3CyaEhEmlz99UkrNOb5zGTxsz0z0/CuaiOPgAAPl1Lp8Ej3zuboXnx+xwQd/wJrgTsL7WDI7p39xRgB7oC+b33eTsUABA378AixyMm5zbiU6mTUkm9qEBRWdaKEASt0KA==\"","module.exports = __webpack_public_path__ + \"media/move-check.4357e894.webm\";","module.exports = __webpack_public_path__ + \"media/capture.24b1f330.webm\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./square.vue?vue&type=style&index=0&id=fbf8eeda&scoped=true&lang=scss\"","module.exports = \"data:video/webm;base64,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\"","module.exports = __webpack_public_path__ + \"media/promote.d88d6d64.webm\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./position.vue?vue&type=style&index=0&id=ce59a73e&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=70c3d081&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./main.vue?vue&type=style&index=0&id=52b9b3f6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./grab-overlay.vue?vue&type=style&index=0&id=3aa4b808&lang=scss&scoped=true\"","<template>\n  <v-app align-center class=\"root pt-4\">\n    <game\n      v-if=\"remote.state == 2\"\n      :color=\"remote.color\"\n      :board=\"remote.board\"\n      :history=\"remote.history\"\n      v-model:last-move=\"lastMove\"\n      @input=\"remote.move\"\n    >\n      <template v-slot:actions>\n        <v-flex align-center justify-center class=\"pb-4\">\n          <template v-if=\"remote.state == 2 && result\">\n            <v-text title class=\"mr-4\">\n              <span v-if=\"result == 'statemate'\">Stalemate</span>\n              <span v-else-if=\"result == 'w'\">Black wins</span>\n              <span v-else-if=\"result == 'b'\">White wins</span>\n            </v-text>\n\n            <v-button color=\"primary\" @click=\"remote.reset()\">\n              <span>new game</span>\n            </v-button>\n          </template>\n          <template v-else>\n            <v-button small @click=\"remote.reset()\">\n              <span>new game</span>\n            </v-button>\n          </template>\n        </v-flex>\n      </template>\n    </game>\n\n    <local-game v-else>\n      <template v-slot:actions>\n        <v-flex\n          v-if=\"remote.state == 1\"\n          align-center\n          justify-center\n          class=\"pb-4\"\n        >\n          <v-button icon @click=\"copyLink()\" @mouseleave=\"linkCopied = false\">\n            <v-icon v-if=\"!linkCopied\">content_paste</v-icon>\n            <v-icon v-else bold style=\"color: #4caf50\">check</v-icon>\n          </v-button>\n\n          <v-text-field\n            class=\"mt-0 ml-4\"\n            ref=\"linkInput\"\n            solo\n            :model-value=\"link\"\n          />\n        </v-flex>\n      </template>\n    </local-game>\n  </v-app>\n</template>\n\n<script >\nimport { computed, inject, shallowRef } from 'vue';\n\nimport { Rules } from './chess';\n\nimport game from './ui/game';\nimport localGame from './ui/local-game';\n\nexport default {\n  name: 'chess',\n  components: {\n    game,\n    localGame,\n  },\n\n  setup(props) {\n    const remote = inject('remote');\n\n    const lastMove = shallowRef(null);\n    const result = computed(() => {\n      if (Rules.all_legal_moves(remote.board).size > 0)\n        return null;\n\n      return Rules.check(remote.board) ?? 'statemate';\n    });\n\n    const base = window.location;\n    const link = computed(() => `${base.origin}${base.pathname}?code=${remote.code}`);\n    const linkInput = shallowRef(null);\n    const linkCopied = shallowRef(false);\n\n    return {\n      remote,\n      lastMove, result,\n\n      link, linkInput, linkCopied,\n      copyLink: () => {\n        linkInput.value.select();\n        document.execCommand('copy');\n        linkCopied.value = true;\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\nhtml,\nbody {\n  margin: 0;\n}\n\n#app {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  // align-items: center;\n  justify-content: center;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.root {\n  overflow: hidden;\n}\n</style>\n","import { assert } from '@mfro/ts-common/assert';\n\nexport type Color = 'w' | 'b';\nexport type PieceKind = 'p' | 'r' | 'n' | 'b' | 'q' | 'k';\nexport type Rank = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;\nexport type File = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g' | 'h';\n\nexport namespace Color {\n  export const\n    white = 'w',\n    black = 'b';\n\n  export function other(c: Color): Color {\n    return c == white ? black : white;\n  }\n}\n\nexport interface Position {\n  rank: Rank;\n  file: File;\n}\n\nexport namespace Position {\n  function p(strings: TemplateStringsArray): Position {\n    const rank = parseInt(strings[0][1], 10) as Rank;\n    const file = strings[0][0] as File;\n\n    return Object.freeze({ rank, file });\n  }\n\n  export function add(from: Position, offset: Offset): Position;\n  export function add(from: Position, ranks: number, files: number): Position;\n  export function add(a: Position, b: number | Offset, c?: number) {\n    let r = ranks.indexOf(a.rank);\n    let f = files.indexOf(a.file);\n\n    if (arguments.length == 2) {\n      r += (b as Offset).ranks;\n      f += (b as Offset).ranks;\n    } else {\n      r += b as number;\n      f += c as number;\n    }\n\n    return by_rank[r][f];\n  }\n\n  export function offset(from: Position, to: Position): Offset {\n    const r = ranks.indexOf(to.rank) - ranks.indexOf(from.rank);\n    const f = files.indexOf(to.file) - files.indexOf(from.file);\n    return { ranks: r, files: f };\n  }\n\n  export function slide(from: Position, to: Position, inclusive?: boolean): Position[];\n  export function slide(from: Position, offset: Offset, inclusive?: boolean): Position[];\n  export function slide(from: Position, to: Position | Offset, inclusive = false): Position[] {\n    let o;\n    if ('rank' in to)\n      o = offset(from, to);\n    else\n      o = to;\n\n    if (o.ranks != 0 && o.files != 0 && Math.abs(o.ranks) != Math.abs(o.files))\n      throw new Error('invalid sequence');\n\n    const count = Math.max(Math.abs(o.ranks), Math.abs(o.files));\n\n    const sR = Math.sign(o.ranks);\n    const sF = Math.sign(o.files);\n\n    const result = [];\n\n    for (let i = (inclusive ? 0 : 1); inclusive ? (i <= count) : i < count; ++i) {\n      result.push(by_rank[ranks.indexOf(from.rank) + (i * sR)][files.indexOf(from.file) + (i * sF)]);\n    }\n\n    return result;\n  }\n\n  export const\n    a1 = p`a1`, a2 = p`a2`, a3 = p`a3`, a4 = p`a4`, a5 = p`a5`, a6 = p`a6`, a7 = p`a7`, a8 = p`a8`,\n    b1 = p`b1`, b2 = p`b2`, b3 = p`b3`, b4 = p`b4`, b5 = p`b5`, b6 = p`b6`, b7 = p`b7`, b8 = p`b8`,\n    c1 = p`c1`, c2 = p`c2`, c3 = p`c3`, c4 = p`c4`, c5 = p`c5`, c6 = p`c6`, c7 = p`c7`, c8 = p`c8`,\n    d1 = p`d1`, d2 = p`d2`, d3 = p`d3`, d4 = p`d4`, d5 = p`d5`, d6 = p`d6`, d7 = p`d7`, d8 = p`d8`,\n    e1 = p`e1`, e2 = p`e2`, e3 = p`e3`, e4 = p`e4`, e5 = p`e5`, e6 = p`e6`, e7 = p`e7`, e8 = p`e8`,\n    f1 = p`f1`, f2 = p`f2`, f3 = p`f3`, f4 = p`f4`, f5 = p`f5`, f6 = p`f6`, f7 = p`f7`, f8 = p`f8`,\n    g1 = p`g1`, g2 = p`g2`, g3 = p`g3`, g4 = p`g4`, g5 = p`g5`, g6 = p`g6`, g7 = p`g7`, g8 = p`g8`,\n    h1 = p`h1`, h2 = p`h2`, h3 = p`h3`, h4 = p`h4`, h5 = p`h5`, h6 = p`h6`, h7 = p`h7`, h8 = p`h8`;\n\n  export const all = [\n    a1, b1, c1, d1, e1, f1, g1, h1,\n    a2, b2, c2, d2, e2, f2, g2, h2,\n    a3, b3, c3, d3, e3, f3, g3, h3,\n    a4, b4, c4, d4, e4, f4, g4, h4,\n    a5, b5, c5, d5, e5, f5, g5, h5,\n    a6, b6, c6, d6, e6, f6, g6, h6,\n    a7, b7, c7, d7, e7, f7, g7, h7,\n    a8, b8, c8, d8, e8, f8, g8, h8,\n  ];\n\n  export const ranks: Rank[] = [1, 2, 3, 4, 5, 6, 7, 8];\n  export const by_rank = [\n    [a1, b1, c1, d1, e1, f1, g1, h1],\n    [a2, b2, c2, d2, e2, f2, g2, h2],\n    [a3, b3, c3, d3, e3, f3, g3, h3],\n    [a4, b4, c4, d4, e4, f4, g4, h4],\n    [a5, b5, c5, d5, e5, f5, g5, h5],\n    [a6, b6, c6, d6, e6, f6, g6, h6],\n    [a7, b7, c7, d7, e7, f7, g7, h7],\n    [a8, b8, c8, d8, e8, f8, g8, h8],\n  ];\n\n  export const files: File[] = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\n  export const by_file = [\n    [a1, a2, a3, a4, a5, a6, a7, a8],\n    [b1, b2, b3, b4, b5, b6, b7, b8],\n    [c1, c2, c3, c4, c5, c6, c7, c8],\n    [d1, d2, d3, d4, d5, d6, d7, d8],\n    [e1, e2, e3, e4, e5, e6, e7, e8],\n    [f1, f2, f3, f4, f5, f6, f7, f8],\n    [g1, g2, g3, g4, g5, g6, g7, g8],\n    [h1, h2, h3, h4, h5, h6, h7, h8],\n  ];\n}\n\nexport interface Piece {\n  readonly color: Color;\n  readonly kind: PieceKind;\n}\n\nexport function Piece(color: Color, kind: PieceKind): Piece {\n  return Object.freeze({ color, kind });\n}\n\nexport namespace Piece {\n  export const\n    pawn = 'p',\n    rook = 'r',\n    knight = 'n',\n    bishop = 'b',\n    queen = 'q',\n    king = 'k';\n\n  export const all = [pawn, rook, knight, bishop, queen, king];\n}\n\nexport interface Offset {\n  ranks: number;\n  files: number;\n}\n\nexport function Offset(ranks: number, files: number): Offset {\n  return { ranks, files };\n}\n\nexport namespace Offset {\n  export function eq(a: Offset, b: Offset): boolean;\n  export function eq(a: Offset, ranks: number, files: number): boolean;\n  export function eq(a: Offset, ranks: number | Offset, files?: number) {\n    if (arguments.length == 2)\n      return a.ranks == (ranks as Offset).ranks && a.files == (ranks as Offset).files;\n    return a.ranks == ranks && a.files == files;\n  }\n}\n\nexport interface Board {\n  white_kingside_castle: boolean;\n  white_queenside_castle: boolean;\n\n  black_kingside_castle: boolean;\n  black_queenside_castle: boolean;\n\n  white_passant: boolean[];\n  black_passant: boolean[];\n\n  pieces: Map<Position, Piece>;\n  next: Color;\n}\n\nexport namespace Board {\n  export type Saved = Omit<Board, 'pieces'> & {\n    pieces: [number, Piece][];\n  };\n\n  export function copy(board: Board): Board {\n    return {\n      ...board,\n      pieces: new Map([...board.pieces]),\n    };\n  }\n\n  export function save(board: Board): Saved {\n    return {\n      ...board,\n      pieces: [...board.pieces].map(([position, piece]) => [\n        Position.all.indexOf(position),\n        piece,\n      ]),\n    };\n  }\n\n  export function load(raw: Board.Saved): Board {\n    return {\n      ...raw,\n      pieces: new Map(raw.pieces.map(([i, piece]) => [\n        Position.all[i],\n        piece,\n      ])),\n    };\n  }\n\n  export function empty(): Board {\n    return {\n      white_kingside_castle: true,\n      white_queenside_castle: true,\n\n      black_kingside_castle: true,\n      black_queenside_castle: true,\n\n      white_passant: Position.files.map(() => false),\n      black_passant: Position.files.map(() => false),\n\n      pieces: new Map(),\n      next: Color.white,\n    };\n  }\n\n  export function starting(): Board {\n    const board = Board.empty();\n\n    const back: PieceKind[] = [\n      Piece.rook, Piece.knight, Piece.bishop, Piece.queen,\n      Piece.king, Piece.bishop, Piece.knight, Piece.rook,\n    ];\n\n    for (const pos of Position.by_rank[1])\n      board.pieces.set(pos, Piece(Color.white, Piece.pawn));\n\n    for (const [pos, kind] of zip(Position.by_rank[0], back))\n      board.pieces.set(pos, Piece(Color.white, kind));\n\n    for (const pos of Position.by_rank[6])\n      board.pieces.set(pos, Piece(Color.black, Piece.pawn));\n\n    for (const [pos, kind] of zip(Position.by_rank[7], back))\n      board.pieces.set(pos, Piece(Color.black, kind));\n\n    return board;\n  }\n}\n\nexport interface Move {\n  from: Position;\n  to: Position;\n  promote?: PieceKind;\n}\n\nexport namespace Move {\n  export type Saved = {\n    from: number;\n    to: number;\n    promote: PieceKind | null;\n  };\n\n  type BasicResult = { board: Board; captured?: Piece; promoted?: Piece };\n  type CastleResult = { board: Board; castle: true };\n  type EnPassantResult = { board: Board; en_passant: true; captured: Piece };\n\n  export type Result =\n    | BasicResult\n    | CastleResult\n    | EnPassantResult;\n\n  export function validate(board: Board, move: Move): Result | null {\n    function normal(): BasicResult {\n      assert(piece != null, 'x');\n\n      board = Board.copy(board);\n\n      if (piece.kind == Piece.king) {\n        if (piece.color == Color.white) {\n          board.white_kingside_castle = false;\n          board.white_queenside_castle = false;\n        } else {\n          board.black_kingside_castle = false;\n          board.black_queenside_castle = false;\n        }\n      }\n\n      if (piece.kind == Piece.rook) {\n        if (move.from == Position.a1) board.white_queenside_castle = false;\n        if (move.from == Position.h1) board.white_kingside_castle = false;\n        if (move.from == Position.a8) board.black_queenside_castle = false;\n        if (move.from == Position.h8) board.black_kingside_castle = false;\n      }\n\n      board.white_passant = Position.files.map(() => false);\n      if (piece.kind == Piece.pawn && move.from.rank == 2 && move.to.rank == 4)\n        board.white_passant[Position.files.indexOf(move.from.file)] = true;\n\n      board.black_passant = Position.files.map(() => false);\n      if (piece.kind == Piece.pawn && move.from.rank == 7 && move.to.rank == 5)\n        board.black_passant[Position.files.indexOf(move.from.file)] = true;\n\n      board.pieces.delete(move.from);\n      board.pieces.set(move.to, piece);\n\n      board.next = piece.color == Color.white ? Color.black : Color.white;\n\n      const result: Result = { board };\n      if (captured) result.captured = captured;\n\n      return result;\n    }\n\n    function castle(expected_from: Position, rook_from: Position, rook_to: Position): CastleResult | null {\n      assert(piece != null, 'x');\n\n      if (move.from != expected_from\n        || Position.slide(move.from, move.to, true).some(p => Rules.is_threatened(board, p, piece.color))\n        || Position.slide(move.from, rook_from, false).some(p => board.pieces.has(p)))\n        return null;\n\n      const result = normal();\n\n      const rook = result.board.pieces.get(rook_from);\n      assert(rook != null, 'invalid castle state');\n      result.board.pieces.delete(rook_from);\n      result.board.pieces.set(rook_to, rook);\n\n      return { board: result.board, castle: true };\n    }\n\n    function en_passant(capture: Piece): EnPassantResult {\n      const { board } = normal();\n\n      const pair = [...board.pieces].find(pair => pair[1] == capture);\n      assert(pair != null, 'invalid move');\n      board.pieces.delete(pair[0]);\n\n      return { board, captured: capture, en_passant: true };\n    }\n\n    function promotion(): BasicResult | null {\n      assert(piece != null, 'x');\n\n      const result = normal();\n\n      if (move.to.rank == 1 || move.to.rank == 8) {\n        if (!move.promote)\n          return null;\n\n        result.promoted = piece;\n        board.pieces.set(move.to, {\n          color: piece.color,\n          kind: move.promote,\n        });\n      }\n\n      return result;\n    }\n\n    const piece = board.pieces.get(move.from);\n    if (piece == null)\n      return null;\n\n    const captured = board.pieces.get(move.to);\n    if (captured && captured.color == piece.color)\n      return null;\n\n    const offset = Position.offset(move.from, move.to);\n\n    switch (piece.kind) {\n      case Piece.pawn:\n        const dir = piece.color == Color.white ? 1 : -1;\n        const origin = piece.color == Color.white ? 2 : 7;\n\n        if (Offset.eq(offset, dir * 1, 0) && !captured)\n          return promotion();\n\n        if (Offset.eq(offset, dir * 2, 0) && !captured\n          && move.from.rank == origin && !board.pieces.has(Position.add(move.from, dir * 1, 0)))\n          return promotion();\n\n        if (Offset.eq(offset, dir * 1, 1) || Offset.eq(offset, dir * 1, -1)) {\n          if (captured)\n            return promotion();\n\n          const passe = board.pieces.get(Position.add(move.to, dir * -1, 0));\n          if (passe && ((piece.color == Color.white && move.from.rank == 5\n            && board.black_passant[Position.files.indexOf(move.to.file)])\n            || (piece.color == Color.black && move.from.rank == 4\n              && board.white_passant[Position.files.indexOf(move.to.file)])))\n            return en_passant(passe);\n        }\n\n        return null;\n\n      case Piece.rook:\n        if ((offset.files == 0 || offset.ranks == 0)\n          && Position.slide(move.from, move.to).every(p => !board.pieces.has(p)))\n          return normal();\n\n        return null;\n\n      case Piece.bishop:\n        if (Math.abs(offset.files) == Math.abs(offset.ranks)\n          && Position.slide(move.from, move.to).every(p => !board.pieces.has(p)))\n          return normal();\n\n        return null;\n\n      case Piece.knight:\n        if (Math.abs(offset.ranks) + Math.abs(offset.files) == 3\n          && Math.abs(offset.ranks) != 3 && Math.abs(offset.files) != 3)\n          return normal();\n\n        return null;\n\n      case Piece.queen:\n        if ((Math.abs(offset.files) == Math.abs(offset.ranks) || offset.files == 0 || offset.ranks == 0)\n          && Position.slide(move.from, move.to).every(p => !board.pieces.has(p)))\n          return normal();\n\n        return null;\n\n      case Piece.king:\n        if (Math.abs(offset.ranks) <= 1 && Math.abs(offset.files) <= 1)\n          return normal();\n\n        if (offset.ranks == 0) {\n          if (offset.files == 2) {\n            if (piece.color == Color.white && board.white_kingside_castle)\n              return castle(Position.e1, Position.h1, Position.f1);\n\n            if (piece.color == Color.black && board.black_kingside_castle)\n              return castle(Position.e8, Position.h8, Position.f8);\n          } else if (offset.files == -2) {\n            if (piece.color == Color.white && board.white_queenside_castle)\n              return castle(Position.e1, Position.a1, Position.d1);\n\n            if (piece.color == Color.black && board.black_queenside_castle)\n              return castle(Position.e8, Position.a8, Position.d8);\n          }\n        }\n\n        return null;\n\n      default: throw new Error(`invalid piece kind: ${piece.kind}`);\n    }\n  }\n\n  export function resolve(board: Board, move: Move): Result | null {\n    const piece = board.pieces.get(move.from);\n    if (piece == null || piece.color != board.next)\n      return null;\n\n    const result = validate(board, move);\n    if (result == null)\n      return null;\n\n    if (Rules.check(result.board, piece.color))\n      return null;\n\n    return result;\n  }\n\n  export function save(move: Move): Saved {\n    return {\n      from: Position.all.indexOf(move.from),\n      to: Position.all.indexOf(move.to),\n      promote: move.promote ?? null,\n    };\n  }\n\n  export function load(raw: Move.Saved): Move {\n    return {\n      from: Position.all[raw.from],\n      to: Position.all[raw.to],\n      promote: raw.promote ?? undefined,\n    };\n  }\n}\n\nexport namespace Rules {\n  export function check(board: Board, color?: Color): Color | null {\n    const list: Color[] = color ? [color] : [Color.white, Color.black];\n\n    for (const color of list) {\n      const king = [...board.pieces].find(p => p[1].kind == Piece.king && p[1].color == color);\n      if (king && is_threatened(board, king[0], color)) return color;\n    }\n\n    return null;\n  }\n\n  export function all_legal_moves(board: Board): Map<Position, Map<Position, Move.Result>> {\n    const all = new Map<Position, Map<Position, Move.Result>>();\n\n    for (const from of board.pieces.keys()) {\n      const map = new Map<Position, Move.Result>();\n\n      for (const to of Position.all) {\n        const result = Move.resolve(board, { from, to, promote: Piece.queen });\n        if (result != null) {\n          map.set(to, result);\n        }\n      }\n\n      if (map.size > 0) {\n        all.set(from, map);\n      }\n    }\n\n    return all;\n  }\n\n  export function is_threatened(board: Board, pos: Position, victim: Color) {\n    for (const [from, piece] of board.pieces) {\n      if (piece.color != victim && Move.validate(board, { from, to: pos })) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n\nObject.assign(window, {\n  devtoolsFormatters: [\n    {\n      header(o: any) {\n        if (Position.all.includes(o))\n          return ['span', {}, `${(o as Position).file}${(o as Position).rank}`];\n\n        if ('color' in o && 'kind' in o)\n          return ['span', {}, `${(o as Piece).color}${(o as Piece).kind}`];\n\n        return undefined;\n      },\n\n      hasBody(o: any) {\n        if (Position.all.includes(o))\n          return false;\n\n        if ('color' in o && 'kind' in o)\n          return false;\n\n        return undefined;\n      },\n    },\n  ],\n});\n\nfunction zip<T1, T2>(a: T1[], b: T2[]): [T1, T2][] {\n  if (a.length != b.length)\n    throw new Error('invalid zip');\n\n  return a.map((v, i) => [v, b[i]]);\n}\n","<template>\n  <v-flex :column=\"profile\" :align-center=\"profile\" style=\"overflow: hidden\">\n    <board\n      :style=\"{ 'align-self': profile ? 'initial' : 'start' }\"\n      :color=\"color\"\n      :value=\"lastMove?.result.board ?? board\"\n      :animate=\"animate\"\n      :last-move=\"lastMove\"\n      @move=\"onMove\"\n    />\n\n    <v-flex column class=\"pa-4\" style=\"overflow: hidden\">\n      <slot name=\"actions\" />\n\n      <history\n        :value=\"history\"\n        :active=\"lastMove\"\n        @update:active=\"$emit('update:last-move', $event)\"\n      />\n    </v-flex>\n  </v-flex>\n</template>\n\n<script>\nimport { shallowRef, watch } from 'vue';\n\nimport board from '@/ui/board';\nimport history from '@/ui/history';\n\nexport default {\n  name: 'game',\n  components: {\n    board,\n    history,\n  },\n\n  emits: ['input', 'update:last-move'],\n  props: {\n    color: String,\n    board: Object,\n    history: Object,\n    lastMove: Object,\n  },\n\n  setup(props, { emit }) {\n    const profile = shallowRef(window.innerWidth < window.innerHeight);\n\n    const animate = shallowRef(false);\n\n    watch(() => [props.board, props.lastMove], ([_0, lastMove], [_1, oldLastMove]) => {\n      const index = props.history.indexOf(lastMove);\n      const oldIndex = props.history.indexOf(oldLastMove);\n\n      if (oldLastMove && oldIndex == -1) {\n        emit('update:last-move', null);\n      } else if (index == oldIndex && oldIndex + 2 == props.history.length) {\n        emit('update:last-move', props.history[props.history.length - 1]);\n      }\n    });\n\n    if (props.lastMove == null && props.history.length > 0) {\n      emit('update:last-move', props.history[props.history.length - 1]);\n    }\n\n    watch(() => [props.color, props.lastMove], ([color, lastMove], [oldColor, oldLastMove]) => {\n      const index = props.history.indexOf(lastMove);\n      const oldIndex = props.history.indexOf(oldLastMove);\n\n      animate.value = color == oldColor && Math.abs(index - oldIndex) == 1;\n    });\n\n    return {\n      profile,\n      animate,\n\n      onMove(move) {\n        if (props.lastMove != props.history[props.history.length - 1])\n          return;\n\n        emit('input', move);\n      },\n    };\n  },\n};\n</script>\n","<template>\n  <div class=\"board\"\n       :class=\"{ grabbing: moving, grab: value.pieces.has(hover) }\"\n       @dragstart.prevent\n       @contextmenu.prevent\n       @mouseup=\"onMouseUp\"\n       @mousemove=\"onMouseMove\"\n       @mousedown=\"onMouseDown\"\n       @mouseleave=\"onMouseLeave\"\n       @touchend.prevent=\"onTouchEnd\"\n       @touchmove.prevent=\"onTouchMove\"\n       @touchstart.prevent=\"onTouchStart\">\n    <div class=\"body\"\n         ref=\"root\">\n      <template v-for=\"square in squares\"\n                :key=\"square.file + square.rank\">\n        <square :position=\"square\"\n                :active=\"\n                  square == moving ||\n                  square == hover ||\n                  square == lastMove?.move.from ||\n                  square == lastMove?.move.to\n                \" />\n      </template>\n\n      <position v-for=\"[pos, piece] in pieces\"\n                :key=\"piece\"\n                :value=\"pos\"\n                :live=\"animate && piece != localMove\"\n                style=\"pointer-events: none\">\n        <piece :value=\"piece\"\n               v-if=\"pos != moving\" />\n      </position>\n\n      <position v-for=\"pos in legalMoves.get(moving)?.keys() || []\"\n                :key=\"pos\"\n                :value=\"pos\">\n        <div class=\"legal-move\"\n             :class=\"{ take: value.pieces.has(pos) }\" />\n      </position>\n\n      <grab-overlay :root=\"root\"\n                    :moving=\"moving\"\n                    :board=\"value\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, provide, shallowRef, toRef, watch, watchEffect } from 'vue';\n\nimport { Color, Position, Rules, Piece } from '@/chess';\nimport * as sound_assets from '@/assets/sound';\n\nimport piece from './piece';\nimport square from './square';\nimport position from './position';\nimport grabOverlay from './grab-overlay';\n\nconst sounds = {};\n\nfor (const [name, url] of Object.entries(sound_assets)) {\n  const audio = new Audio(url);\n  sounds[name] = audio;\n}\n\nfunction play_sound(name) {\n  const audio = sounds[name];\n  audio.currentTime = 0;\n  audio.play();\n}\n\nexport default {\n  name: 'board',\n  components: {\n    piece,\n    square,\n    position,\n    grabOverlay,\n  },\n\n  emits: ['move'],\n  props: {\n    color: String,\n    value: Object,\n    animate: Boolean,\n    lastMove: Object,\n  },\n\n  setup(props, { emit }) {\n    const root = shallowRef(null);\n\n    provide('color', toRef(props, 'color'));\n\n    const size = shallowRef(Math.floor(Math.min(window.innerWidth, window.innerHeight) / 10));\n    provide('size', size);\n    window.addEventListener('resize', () => {\n      size.value = Math.floor(Math.min(window.innerWidth, window.innerHeight) / 10);\n    });\n\n    const squares = computed(() => {\n      const ranks = Position.by_rank.slice();\n      if (props.color == Color.white) ranks.reverse();\n      else {\n        for (let i = 0; i < ranks.length; ++i) ranks[i] = ranks[i].slice().reverse();\n      }\n      return [].concat(...ranks);\n    });\n\n    const hover = shallowRef(null);\n\n    const moving = shallowRef(null);\n    const localMove = shallowRef(null);\n\n    let ordering;\n    watchEffect(() => {\n      if (!ordering || [...props.value.pieces.values()].find(v => !ordering.has(v))) {\n        ordering = new Map([...props.value.pieces.values()].map((a, i) => [a, i]));\n      }\n    });\n\n    watch(() => props.lastMove, (lastMove, _, onInvalidate) => {\n      const i = setImmediate(() => {\n        localMove.value = null;\n\n        if (lastMove) {\n          if (lastMove.result.castle)\n            play_sound('castle');\n\n          else if (lastMove.result.capture)\n            play_sound('capture');\n\n          else if (lastMove.result.promote)\n            play_sound('promote');\n\n          else if (Rules.check(lastMove.result.board))\n            play_sound('move_check');\n\n          else if (lastMove.result.board.next == props.color)\n            play_sound('move_opponent');\n\n          else\n            play_sound('move_self');\n        }\n      });\n\n      onInvalidate(() => clearImmediate(i));\n    });\n\n    const pieces = computed(() => {\n      const list = [...props.value.pieces];\n      list.sort((a, b) => ordering.get(a[1]) - ordering.get(b[1]));\n      return list;\n    });\n\n    const legalMoves = computed(() => {\n      return Rules.all_legal_moves(props.value);\n    });\n\n    const positionAt = (x, y) => {\n      x = Math.floor((x - root.value.offsetLeft) / root.value.offsetWidth * 8);\n      y = Math.floor((y - root.value.offsetTop) / root.value.offsetHeight * 8);\n\n      if (props.color == Color.white) {\n        y = 7 - y;\n      } else {\n        x = 7 - x;\n      }\n\n      if (x < 0 || x > 7 || y < 0 || y > 7)\n        return null;\n\n      return Position.by_file[x][y];\n    };\n\n    const startDrag = (x, y) => {\n      moveDrag(x, y);\n\n      if (moving.value) {\n        moving.value = null;\n      } else {\n        const position = positionAt(x, y);\n        if (position && props.value.pieces.has(position))\n          moving.value = position;\n      }\n    };\n\n    const moveDrag = (x, y) => {\n      hover.value = positionAt(x, y);\n    };\n\n    const endDrag = (x, y) => {\n      moveDrag(x, y);\n\n      const position = positionAt(x, y);\n\n      if (!moving.value) return;\n      if (position && moving.value != position) {\n        const piece = props.value.pieces.get(moving.value);\n        localMove.value = piece;\n\n        const move = { from: moving.value, to: position };\n\n        const result = legalMoves.value.get(moving.value)?.get(position);\n        if (result && result.promoted) {\n          move.promote = Piece.queen;\n        }\n\n        emit('move', move);\n      }\n\n      moving.value = null;\n    };\n\n    return {\n      root,\n      squares,\n      hover, moving,\n      legalMoves,\n      pieces,\n      localMove,\n\n      onMouseLeave: e => hover.value = null,\n      onMouseDown: e => startDrag(e.clientX, e.clientY),\n      onMouseMove: e => moveDrag(e.clientX, e.clientY),\n      onMouseUp: e => endDrag(e.clientX, e.clientY),\n\n      onTouchStart: e => startDrag(e.changedTouches[0].clientX, e.changedTouches[0].clientY),\n      onTouchMove: e => moveDrag(e.changedTouches[0].clientX, e.changedTouches[0].clientY),\n      onTouchEnd: e => endDrag(e.changedTouches[0].clientX, e.changedTouches[0].clientY),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.board {\n  border: 10px solid white;\n\n  &.grab {\n    cursor: grab;\n  }\n\n  &.grabbing {\n    cursor: grabbing;\n  }\n\n  .body {\n    position: relative;\n    display: grid;\n    grid-template: repeat(8, auto) / repeat(8, auto);\n  }\n}\n\n.legal-move {\n  position: absolute;\n  top: 35%;\n  left: 35%;\n  width: 30%;\n  height: 30%;\n  background-color: fade-out(black, 0.8);\n  border-radius: 50%;\n\n  &.take {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n\n    border: solid fade-out(black, 0.8);\n    border-width: min(0.8vw, 0.8vh);\n    border-radius: 50%;\n    background-color: transparent;\n  }\n}\n\n.moving {\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n</style>\n","<template>\n  <div class=\"piece\" :style=\"style\" :class=\"value.color + value.kind\" />\n</template>\n\n<script>\nimport { computed, inject } from 'vue';\n\nexport default {\n  name: 'piece',\n\n  props: {\n    value: Object,\n  },\n\n  setup() {\n    const size = inject('size');\n\n    return {\n      style: computed(() => ({\n        width: `${size.value}px`,\n        height: `${size.value}px`,\n      })),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/pieces.scss\";\n\n.piece {\n  @include piece;\n\n  background-size: 100%;\n}\n</style>\n","import { render } from \"./piece.vue?vue&type=template&id=58c04a6c&scoped=true\"\nimport script from \"./piece.vue?vue&type=script&lang=js\"\nexport * from \"./piece.vue?vue&type=script&lang=js\"\n\nimport \"./piece.vue?vue&type=style&index=0&id=58c04a6c&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-58c04a6c\"]])\n\nexport default __exports__","<template>\n  <div class=\"square\" :style=\"style\" :class=\"[color, { active }]\" />\n</template>\n\n<script>\nimport { computed, inject } from 'vue';\n\nimport { Position } from '@/chess';\n\nexport default {\n  name: 'square',\n\n  props: {\n    position: Object,\n    active: Boolean,\n  },\n\n  setup(props) {\n    const size = inject('size');\n\n    const color = computed(() => {\n      const i = Position.ranks.indexOf(props.position.rank)\n        + Position.files.indexOf(props.position.file);\n\n      return i % 2 == 0 ? 'black' : 'white';\n    });\n\n    return {\n      color,\n      style: computed(() => ({\n        width: `${size.value}px`,\n        height: `${size.value}px`,\n      })),\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.square {\n  position: relative;\n  pointer-events: none;\n\n  &.white {\n    background-color: #f0d9b5;\n\n    &.active {\n      background-color: mix(#f0d9b5, #ffeb3b, 50%);\n    }\n  }\n\n  &.black {\n    background-color: #b58863;\n\n    &.active {\n      background-color: mix(#b58863, #ffeb3b, 50%);\n    }\n  }\n}\n</style>\n","import { render } from \"./square.vue?vue&type=template&id=fbf8eeda&scoped=true\"\nimport script from \"./square.vue?vue&type=script&lang=js\"\nexport * from \"./square.vue?vue&type=script&lang=js\"\n\nimport \"./square.vue?vue&type=style&index=0&id=fbf8eeda&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fbf8eeda\"]])\n\nexport default __exports__","<template>\n  <div class=\"position\" :style=\"style\" :class=\"{ live }\">\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { computed, inject } from 'vue';\nimport { Color, Position } from '@/chess';\n\nexport default {\n  name: 'position',\n\n  props: {\n    live: Boolean,\n    value: Object,\n  },\n\n  setup(props) {\n    const size = inject('size');\n\n    const color = inject('color');\n\n    return {\n      style: computed(() => {\n        let y = Position.ranks.indexOf(props.value.rank);\n        let x = Position.files.indexOf(props.value.file);\n\n        if (color.value == Color.white)\n          y = 7 - y;\n        else\n          x = 7 - x;\n\n        return {\n          width: `${size.value}px`,\n          height: `${size.value}px`,\n          transform: `translate(${x * 100}%, ${y * 100}%)`,\n        };\n      }),\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.position {\n  position: absolute;\n\n  &.live {\n    will-change: transform;\n    transition: transform 100ms linear;\n  }\n}\n</style>\n","import { render } from \"./position.vue?vue&type=template&id=ce59a73e&scoped=true\"\nimport script from \"./position.vue?vue&type=script&lang=js\"\nexport * from \"./position.vue?vue&type=script&lang=js\"\n\nimport \"./position.vue?vue&type=style&index=0&id=ce59a73e&scoped=true&lang=scss\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ce59a73e\"]])\n\nexport default __exports__","<template>\n  <div class=\"grab-overlay\" :style=\"style\">\n    <piece v-if=\"moving\" :value=\"board.pieces.get(moving)\" />\n  </div>\n</template>\n\n<script>\nimport { computed, onBeforeUnmount, reactive } from 'vue';\n\nimport piece from './piece';\n\nexport default {\n  components: {\n    piece,\n  },\n\n  props: {\n    root: Object,\n    board: Object,\n    moving: Object,\n  },\n\n  setup(props) {\n    const mouse = reactive([0, 0]);\n\n    const style = computed(() => props.moving && ({\n      top: `${mouse[1]}px`,\n      left: `${mouse[0]}px`,\n    }));\n\n    function updateMouse(x, y) {\n      mouse[0] = Math.max(Math.min(x - props.root.offsetLeft, props.root.offsetWidth), 0);\n      mouse[1] = Math.max(Math.min(y - props.root.offsetTop, props.root.offsetHeight), 0);\n    }\n\n    function onMouseEvent(e) {\n      updateMouse(e.clientX, e.clientY);\n    }\n\n    function onTouchEvent(e) {\n      updateMouse(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n    }\n\n    document.body.addEventListener('mousemove', onMouseEvent);\n    document.body.addEventListener('touchstart', onTouchEvent);\n    document.body.addEventListener('touchmove', onTouchEvent);\n\n    onBeforeUnmount(() => {\n      document.body.removeEventListener('mousemove', onMouseEvent);\n      document.body.removeEventListener('touchstart', onTouchEvent);\n      document.body.removeEventListener('touchmove', onTouchEvent);\n    });\n\n    return { style };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.grab-overlay {\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n</style>\n","import { render } from \"./grab-overlay.vue?vue&type=template&id=3aa4b808&scoped=true\"\nimport script from \"./grab-overlay.vue?vue&type=script&lang=js\"\nexport * from \"./grab-overlay.vue?vue&type=script&lang=js\"\n\nimport \"./grab-overlay.vue?vue&type=style&index=0&id=3aa4b808&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3aa4b808\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=70c3d081&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=70c3d081&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70c3d081\"]])\n\nexport default __exports__","<template>\n  <v-flex column class=\"history py-1\" v-scroll-lock>\n    <v-flex\n      align-baseline\n      v-for=\"(row, i) in rows\"\n      :key=\"i\"\n      class=\"row px-4\"\n      :class=\"{ even: i % 2 == 1 }\"\n    >\n      <v-text style=\"width: 3ch\">{{ i + 1 }}.</v-text>\n\n      <v-button\n        :text=\"row[0] != active\"\n        small\n        class=\"move ml-2\"\n        @click=\"preview(row[0])\"\n      >\n        <v-text bold body>{{ row[0].notation }}</v-text>\n      </v-button>\n\n      <v-button\n        :text=\"row[1] != active\"\n        small\n        class=\"move ml-2\"\n        @click=\"preview(row[1])\"\n        v-if=\"row[1]\"\n      >\n        <v-text bold body>{{ row[1].notation }}</v-text>\n      </v-button>\n    </v-flex>\n  </v-flex>\n</template>\n\n<script>\nimport { computed } from 'vue';\n\nexport default {\n  name: 'history',\n\n  emits: ['update:active'],\n  props: {\n    value: Array,\n    active: Object,\n  },\n\n  setup(props, { emit }) {\n    const rows = computed(() => {\n      const rows = [];\n\n      for (let i = 0; i < props.value.length; i += 2) {\n        rows.push([props.value[i], props.value[i + 1]]);\n      }\n\n      return rows;\n    });\n\n    return {\n      rows,\n\n      preview(i) {\n        emit('update:active', i);\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.history {\n  width: 40ch;\n  overflow-y: auto;\n}\n\n.move {\n  span {\n    min-width: 8ch;\n    text-align: start;\n    text-transform: none;\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=b2b0de7a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b2b0de7a&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2b0de7a\"]])\n\nexport default __exports__","import { render } from \"./game.vue?vue&type=template&id=7660e5b6\"\nimport script from \"./game.vue?vue&type=script&lang=js\"\nexport * from \"./game.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <game\n    :color=\"color\"\n    :board=\"board\"\n    :history=\"history\"\n    v-model:last-move=\"lastMove\"\n    @input=\"onMove\"\n  >\n    <template v-slot:actions>\n      <slot name=\"actions\" />\n\n      <v-flex class=\"pb-4\">\n        <!-- <v-button small @click=\"flip\">\n                    <span>flip board</span>\n                </v-button> -->\n\n        <v-button small :disabled=\"!lastMove\" class=\"mr-4\" @click=\"reset\">\n          <span>reset</span>\n        </v-button>\n\n        <v-button small :disabled=\"latest\" @click=\"restore\">\n          <span>revert</span>\n        </v-button>\n      </v-flex>\n    </template>\n  </game>\n</template>\n\n<script>\nimport { computed, markRaw, reactive, shallowRef } from 'vue';\n\nimport { Color, Board, Move } from '@/chess';\nimport { notate } from '@/history';\n\nimport game from '@/ui/game';\n\nexport default {\n  name: 'local-game',\n  components: {\n    game,\n  },\n\n  setup() {\n    const color = shallowRef(Color.white);\n    const board = shallowRef(Board.starting());\n    const history = reactive([]);\n\n    const lastMove = shallowRef(null);\n\n    const latest = computed(() => lastMove.value == history[history.length - 1]);\n\n    return {\n      latest, lastMove,\n\n      color, board, history,\n\n      onMove(move) {\n        const result = Move.resolve(board.value, move);\n        if (result == null) return;\n\n        const notation = notate(board.value, move, result);\n\n        board.value = result.board;\n        history.push(markRaw({ notation, result, move }));\n      },\n\n      flip() {\n        color.value = color.value == Color.black ? Color.white : Color.black;\n      },\n\n      reset() {\n        board.value = Board.starting();\n        history.length = 0;\n        lastMove.value = null;\n      },\n\n      restore() {\n        board.value = lastMove.value.result.board;\n        history.length = history.indexOf(lastMove.value) + 1;\n      },\n    };\n  },\n};\n</script>\n","import { assert } from '@mfro/ts-common/assert';\n\nimport { Board, Move, Piece, Rules } from './chess';\n\nconst letters = new Map([\n  [Piece.pawn, ''],\n  [Piece.rook, 'R'],\n  [Piece.knight, 'N'],\n  [Piece.bishop, 'B'],\n  [Piece.queen, 'Q'],\n  [Piece.king, 'K'],\n]);\n\nexport interface HistoryEntry {\n  move: Move;\n  result: Move.Result;\n  notation: string;\n}\n\nexport function notate(board: Board, move: Move, result: Move.Result) {\n  let text = '';\n  const piece = board.pieces.get(move.from);\n  assert(piece != null, 'invalid move');\n\n  if ('castle' in result) {\n    if (move.to.file == 'g')\n      text = '0-0';\n    else\n      text = '0-0-0';\n  } else {\n    text += letters.get(piece.kind);\n\n    const ambiguous = [...board.pieces].filter(([pos, p]) => pos != move.from\n      && p.color == piece.color && p.kind == piece.kind\n      && Move.resolve(board, { from: pos, to: move.to }));\n\n    if (ambiguous.length > 0) {\n      if (!ambiguous.find(pair => pair[0].file == move.from.file))\n        text += move.from.file;\n      else if (!ambiguous.find(pair => pair[0].rank == move.from.rank))\n        text += move.from.rank;\n      else\n        text += move.from.file + move.from.rank;\n    }\n\n    if (result.captured) {\n      text += 'x';\n    }\n\n    text += move.to.file + move.to.rank;\n\n    if ('promoted' in result && result.promoted) {\n      assert(move.promote != null, 'invalid move');\n      text += letters.get(move.promote);\n    }\n  }\n\n  if (Rules.check(result.board)) {\n    if (Rules.all_legal_moves(result.board).size == 0)\n      text += '#';\n    else\n      text += '+';\n  }\n\n  return text;\n}\n","import { render } from \"./local-game.vue?vue&type=template&id=617ace62\"\nimport script from \"./local-game.vue?vue&type=script&lang=js\"\nexport * from \"./local-game.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./main.vue?vue&type=template&id=52b9b3f6&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\nimport \"./main.vue?vue&type=style&index=0&id=52b9b3f6&lang=scss\"\nimport \"./main.vue?vue&type=style&index=1&id=52b9b3f6&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/mfro/code/chess/web/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52b9b3f6\"]])\n\nexport default __exports__","import { createApp, markRaw, reactive } from 'vue';\n\nimport { framework } from '@mfro/vue-ui';\n\nimport { on } from '@mfro/ts-common/events';\nimport { assert } from '@mfro/ts-common/assert';\nimport { Packet, receive, send } from '@mfro/ts-common/sockets/client';\n\nimport main from './main.vue';\n\nimport { Board, Color, Move } from './chess';\nimport { HistoryEntry, notate } from './history';\n\nconst RoomCode = Packet.define<string>();\n\nconst GetState = Packet.define();\nconst SetState = Packet.define<{ board: Board.Saved; color: Color; history: Move.Saved[] }>();\n\nconst AddMove = Packet.define<Move.Saved>();\n\ninterface RemoteGame {\n  color: Color;\n  board: Board;\n  history: HistoryEntry[];\n\n  code: string | null;\n  state: number;\n\n  reset: () => void;\n  move: (move: Move) => void;\n}\n\nfunction remote_game() {\n  let socket: WebSocket;\n  const base = window.location.host == 'box:8080' ? 'ws://box:8081/' : 'wss://api.mfro.me/chess/play';\n\n  const game: RemoteGame = reactive({\n    color: Color.white,\n    board: Board.starting(),\n    history: reactive([]),\n\n    code: null,\n    state: 0,\n\n    reset() {\n      game.board = Board.starting();\n      game.color = Color.other(game.color);\n      game.history.length = 0;\n\n      send_state();\n    },\n\n    move(move: Move) {\n      const piece = game.board.pieces.get(move.from);\n      if (piece?.color != game.color)\n        return;\n\n      if (apply(move)) {\n        send(socket, AddMove, Move.save(move));\n      }\n    },\n  });\n\n  function apply(move: Move): boolean {\n    const result = Move.resolve(game.board, move);\n    if (result == null)\n      return false;\n\n    const notation = notate(game.board, move, result);\n\n    game.board = result.board;\n    game.history.push(markRaw({ move, result, notation }));\n\n    return true;\n  }\n\n  function send_state() {\n    const board = Board.save(Board.starting());\n    const color = Color.other(game.color);\n    const history = game.history.map(h => Move.save(h.move));\n\n    send(socket, SetState, { board, color, history });\n  }\n\n  const url = new URL(window.location.href);\n  game.code = url.searchParams.get('code');\n\n  if (game.code) {\n    socket = new WebSocket(`${base}?code=${game.code}`);\n    game.state = 0;\n  } else {\n    socket = new WebSocket(`${base}`);\n    game.state = 0;\n  }\n\n  on(receive(socket, RoomCode), code => {\n    if (code != game.code) {\n      const url = new URL(window.location.href);\n      url.searchParams.delete('code');\n      window.history.replaceState(null, document.title, url.pathname + url.search);\n    }\n\n    game.code = code;\n\n    if (game.state == 0) {\n      send(socket, GetState);\n      game.state = 1;\n    }\n  });\n\n  on(receive(socket, GetState), () => {\n    game.state = 2;\n    send_state();\n\n    assert(game.code != null, 'code is not set');\n    const url = new URL(window.location.href);\n    url.searchParams.set('code', game.code);\n    window.history.replaceState(null, document.title, url.pathname + url.search);\n  });\n\n  on(receive(socket, SetState), ({ board, history, color }) => {\n    game.state = 2;\n\n    game.board = Board.load(board);\n    game.color = color;\n    game.history.length = 0;\n\n    for (const move of history) {\n      assert(apply(Move.load(move)), 'invalid comms');\n    }\n  });\n\n  on(receive(socket, AddMove), (move) => {\n    assert(apply(Move.load(move)), 'invalid comms');\n  });\n\n  return game;\n}\n\nconst game: RemoteGame = remote_game();\n\nconst app = createApp(main);\napp.use(framework);\n\napp.provide('remote', game);\n\nconst scroll_lock = new Map<HTMLElement, { lock: boolean; consumed: boolean }>();\napp.directive('scroll-lock', {\n  beforeUpdate(el, binding) {\n    const ctx = scroll_lock.get(el);\n    assert(ctx != null, 'oop');\n\n    if (ctx.consumed) {\n      ctx.lock = el.scrollHeight == el.clientHeight + el.scrollTop;\n    }\n\n    ctx.consumed = false;\n  },\n\n  updated(el, binding) {\n    const ctx = scroll_lock.get(el);\n    assert(ctx != null, 'oop');\n\n    if (ctx.lock) {\n      el.scroll(0, el.scrollHeight - el.clientHeight);\n    }\n\n    ctx.consumed = true;\n  },\n\n  mounted(el, binding, vnode) {\n    scroll_lock.set(el, {\n      lock: el.scrollHeight == el.clientHeight + el.scrollTop,\n      consumed: true,\n    });\n  },\n});\n\napp.mount('#app');\n","module.exports = \"data:video/webm;base64,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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./piece.vue?vue&type=style&index=0&id=58c04a6c&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./main.vue?vue&type=style&index=1&id=52b9b3f6&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"media/castle.21ec1860.webm\";"],"sourceRoot":""}