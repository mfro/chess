{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/ui/history/index.vue?0e73","webpack:///./src/assets/sound/move-self.webm","webpack:///./src/assets/sound/move-check.webm","webpack:///./src/assets/sound/capture.webm","webpack:///./src/ui/board/square.vue?f997","webpack:///./src/assets/sound/move-opponent.webm","webpack:///./src/ui/board/index.vue?2cd0","webpack:///./src/assets/sound/promote.webm","webpack:///./src/ui/board/position.vue?f678","webpack:///./src/main.vue?1cef","webpack:///./src/ui/board/grab-overlay.vue?7f31","webpack:///./src/main.vue","webpack:///./src/chess.ts","webpack:///./src/ui/game.vue","webpack:///./src/ui/board/index.vue","webpack:///./src/ui/board/piece.vue","webpack:///./src/ui/board/piece.vue?fa07","webpack:///./src/ui/board/square.vue","webpack:///./src/ui/board/square.vue?bdaf","webpack:///./src/ui/board/position.vue","webpack:///./src/ui/board/position.vue?7e3b","webpack:///./src/ui/board/grab-overlay.vue","webpack:///./src/ui/board/grab-overlay.vue?1722","webpack:///./src/ui/board/index.vue?d6de","webpack:///./src/ui/history/index.vue","webpack:///./src/ui/history/index.vue?d733","webpack:///./src/ui/game.vue?9971","webpack:///./src/ui/local-game.vue","webpack:///./src/history.ts","webpack:///./src/ui/local-game.vue?e303","webpack:///./src/main.vue?24b2","webpack:///./src/main.ts","webpack:///./src/assets/sound/premove.webm","webpack:///./src/ui/board/piece.vue?6c76","webpack:///./src/main.vue?f496","webpack:///./src/assets/sound/castle.webm"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Color","Position","align-center","class","remote","state","color","board","history","last-move","lastMove","move","actions","justify-center","title","reset","small","icon","copyLink","linkCopied","bold","style","ref","solo","model-value","link","Piece","kind","freeze","Offset","ranks","files","zip","a","b","Error","map","v","other","white","black","strings","rank","parseInt","file","add","indexOf","f","arguments","by_rank","offset","from","to","slide","inclusive","Math","abs","count","max","sR","sign","sF","a1","a2","a3","a4","a5","a6","a7","a8","b1","b2","b3","b4","b5","b6","b7","b8","c1","c2","c3","c4","c5","c6","c7","c8","d1","d2","d3","d4","d5","d6","d7","d8","e1","e2","e3","e4","e5","e6","e7","e8","f1","f2","f3","f4","f5","f6","f7","f8","g1","g2","g3","g4","g5","g6","g7","g8","h1","h2","h3","h4","h5","h6","h7","h8","all","by_file","pawn","rook","knight","bishop","queen","king","eq","Board","copy","pieces","Map","save","position","piece","load","raw","empty","white_kingside_castle","white_queenside_castle","black_kingside_castle","black_queenside_castle","white_passant","black_passant","next","starting","back","pos","set","Move","validate","normal","assert","delete","captured","castle","expected_from","rook_from","rook_to","some","is_threatened","has","en_passant","capture","pair","find","promotion","promote","promoted","dir","origin","passe","every","resolve","check","undefined","Rules","list","all_legal_moves","keys","size","victim","assign","devtoolsFormatters","header","includes","hasBody","column","profile","animate","onMove","active","$emit","$event","moving","hover","onMouseUp","onMouseMove","onMouseDown","onMouseLeave","onTouchEnd","onTouchMove","onTouchStart","squares","square","live","localMove","legalMoves","root","props","setup","width","height","render","__scopeId","Boolean","y","x","transform","components","mouse","top","left","updateMouse","min","offsetLeft","offsetWidth","offsetTop","offsetHeight","onMouseEvent","e","clientX","clientY","onTouchEvent","changedTouches","document","body","addEventListener","removeEventListener","sounds","entries","audio","Audio","play_sound","currentTime","play","grabOverlay","emits","String","emit","floor","innerWidth","innerHeight","ordering","reverse","concat","values","_","onInvalidate","setImmediate","clearImmediate","sort","positionAt","startDrag","moveDrag","endDrag","rows","row","align-baseline","text","preview","notation","Array","oldLastMove","index","oldIndex","oldColor","disabled","latest","restore","letters","notate","ambiguous","filter","game","flip","localGame","base","location","pathname","code","linkInput","select","execCommand","RoomCode","define","GetState","SetState","AddMove","remote_game","socket","host","send_state","h","url","URL","href","searchParams","WebSocket","replaceState","search","app","main","use","provide","scroll_lock","directive","beforeUpdate","el","binding","ctx","consumed","lock","scrollHeight","clientHeight","scrollTop","updated","scroll","mounted","vnode","mount"],"mappings":"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","file":"js/index.4833f8fb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=b2b0de7a&lang=scss&scoped=true\"","module.exports = \"data:video/webm;base64,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\"","module.exports = __webpack_public_path__ + \"media/move-check.4357e894.webm\";","module.exports = __webpack_public_path__ + \"media/capture.24b1f330.webm\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./square.vue?vue&type=style&index=0&id=fbf8eeda&scoped=true&lang=scss\"","module.exports = \"data:video/webm;base64,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\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=186b735b&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"media/promote.d88d6d64.webm\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./position.vue?vue&type=style&index=0&id=b46ae8ac&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./main.vue?vue&type=style&index=0&id=52b9b3f6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./grab-overlay.vue?vue&type=style&index=0&id=3aa4b808&lang=scss&scoped=true\"","<template>\n  <v-app align-center class=\"root pt-4\">\n    <game\n      v-if=\"remote.state == 2\"\n      :color=\"remote.color\"\n      :board=\"remote.board\"\n      :history=\"remote.history\"\n      v-model:last-move=\"lastMove\"\n      @input=\"remote.move\"\n    >\n      <template v-slot:actions>\n        <v-flex align-center justify-center class=\"pb-4\">\n          <template v-if=\"remote.state == 2 && result\">\n            <v-text title class=\"mr-4\">\n              <span v-if=\"result == 'statemate'\">Stalemate</span>\n              <span v-else-if=\"result == 'w'\">Black wins</span>\n              <span v-else-if=\"result == 'b'\">White wins</span>\n            </v-text>\n\n            <v-button color=\"primary\" @click=\"remote.reset()\">\n              <span>new game</span>\n            </v-button>\n          </template>\n          <template v-else>\n            <v-button small @click=\"remote.reset()\">\n              <span>new game</span>\n            </v-button>\n          </template>\n        </v-flex>\n      </template>\n    </game>\n\n    <local-game v-else>\n      <template v-slot:actions>\n        <v-flex\n          v-if=\"remote.state == 1\"\n          align-center\n          justify-center\n          class=\"pb-4\"\n        >\n          <v-button icon @click=\"copyLink()\" @mouseleave=\"linkCopied = false\">\n            <v-icon v-if=\"!linkCopied\">content_paste</v-icon>\n            <v-icon v-else bold style=\"color: #4caf50\">check</v-icon>\n          </v-button>\n\n          <v-text-field\n            class=\"mt-0 ml-4\"\n            ref=\"linkInput\"\n            solo\n            :model-value=\"link\"\n          />\n        </v-flex>\n      </template>\n    </local-game>\n  </v-app>\n</template>\n\n<script >\nimport { computed, inject, shallowRef } from 'vue';\n\nimport { Rules } from './chess';\n\nimport game from './ui/game';\nimport localGame from './ui/local-game';\n\nexport default {\n  name: 'chess',\n  components: {\n    game,\n    localGame,\n  },\n\n  setup(props) {\n    const remote = inject('remote');\n\n    const lastMove = shallowRef(null);\n    const result = computed(() => {\n      if (Rules.all_legal_moves(remote.board).size > 0)\n        return null;\n\n      return Rules.check(remote.board) ?? 'statemate';\n    });\n\n    const base = window.location;\n    const link = computed(() => `${base.origin}${base.pathname}?code=${remote.code}`);\n    const linkInput = shallowRef(null);\n    const linkCopied = shallowRef(false);\n\n    return {\n      remote,\n      lastMove, result,\n\n      link, linkInput, linkCopied,\n      copyLink: () => {\n        linkInput.value.select();\n        document.execCommand('copy');\n        linkCopied.value = true;\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\nhtml,\nbody {\n  margin: 0;\n}\n\n#app {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  // align-items: center;\n  justify-content: center;\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.root {\n  overflow: hidden;\n}\n</style>\n","import { assert } from '@mfro/ts-common/assert';\n\nexport type Color = 'w' | 'b';\nexport type PieceKind = 'p' | 'r' | 'n' | 'b' | 'q' | 'k';\nexport type Rank = 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8;\nexport type File = 'a' | 'b' | 'c' | 'd' | 'e' | 'f' | 'g' | 'h';\n\nexport namespace Color {\n  export const\n    white = 'w',\n    black = 'b';\n\n  export function other(c: Color): Color {\n    return c == white ? black : white;\n  }\n}\n\nexport interface Position {\n  rank: Rank;\n  file: File;\n}\n\nexport namespace Position {\n  function p(strings: TemplateStringsArray): Position {\n    const rank = parseInt(strings[0][1], 10) as Rank;\n    const file = strings[0][0] as File;\n\n    return Object.freeze({ rank, file });\n  }\n\n  export function add(from: Position, offset: Offset): Position;\n  export function add(from: Position, ranks: number, files: number): Position;\n  export function add(a: Position, b: number | Offset, c?: number) {\n    let r = ranks.indexOf(a.rank);\n    let f = files.indexOf(a.file);\n\n    if (arguments.length == 2) {\n      r += (b as Offset).ranks;\n      f += (b as Offset).ranks;\n    } else {\n      r += b as number;\n      f += c as number;\n    }\n\n    return by_rank[r][f];\n  }\n\n  export function offset(from: Position, to: Position): Offset {\n    const r = ranks.indexOf(to.rank) - ranks.indexOf(from.rank);\n    const f = files.indexOf(to.file) - files.indexOf(from.file);\n    return { ranks: r, files: f };\n  }\n\n  export function slide(from: Position, to: Position, inclusive?: boolean): Position[];\n  export function slide(from: Position, offset: Offset, inclusive?: boolean): Position[];\n  export function slide(from: Position, to: Position | Offset, inclusive = false): Position[] {\n    let o;\n    if ('rank' in to)\n      o = offset(from, to);\n    else\n      o = to;\n\n    if (o.ranks != 0 && o.files != 0 && Math.abs(o.ranks) != Math.abs(o.files))\n      throw new Error('invalid sequence');\n\n    const count = Math.max(Math.abs(o.ranks), Math.abs(o.files));\n\n    const sR = Math.sign(o.ranks);\n    const sF = Math.sign(o.files);\n\n    const result = [];\n\n    for (let i = (inclusive ? 0 : 1); inclusive ? (i <= count) : i < count; ++i) {\n      result.push(by_rank[ranks.indexOf(from.rank) + (i * sR)][files.indexOf(from.file) + (i * sF)]);\n    }\n\n    return result;\n  }\n\n  export const\n    a1 = p`a1`, a2 = p`a2`, a3 = p`a3`, a4 = p`a4`, a5 = p`a5`, a6 = p`a6`, a7 = p`a7`, a8 = p`a8`,\n    b1 = p`b1`, b2 = p`b2`, b3 = p`b3`, b4 = p`b4`, b5 = p`b5`, b6 = p`b6`, b7 = p`b7`, b8 = p`b8`,\n    c1 = p`c1`, c2 = p`c2`, c3 = p`c3`, c4 = p`c4`, c5 = p`c5`, c6 = p`c6`, c7 = p`c7`, c8 = p`c8`,\n    d1 = p`d1`, d2 = p`d2`, d3 = p`d3`, d4 = p`d4`, d5 = p`d5`, d6 = p`d6`, d7 = p`d7`, d8 = p`d8`,\n    e1 = p`e1`, e2 = p`e2`, e3 = p`e3`, e4 = p`e4`, e5 = p`e5`, e6 = p`e6`, e7 = p`e7`, e8 = p`e8`,\n    f1 = p`f1`, f2 = p`f2`, f3 = p`f3`, f4 = p`f4`, f5 = p`f5`, f6 = p`f6`, f7 = p`f7`, f8 = p`f8`,\n    g1 = p`g1`, g2 = p`g2`, g3 = p`g3`, g4 = p`g4`, g5 = p`g5`, g6 = p`g6`, g7 = p`g7`, g8 = p`g8`,\n    h1 = p`h1`, h2 = p`h2`, h3 = p`h3`, h4 = p`h4`, h5 = p`h5`, h6 = p`h6`, h7 = p`h7`, h8 = p`h8`;\n\n  export const all = [\n    a1, b1, c1, d1, e1, f1, g1, h1,\n    a2, b2, c2, d2, e2, f2, g2, h2,\n    a3, b3, c3, d3, e3, f3, g3, h3,\n    a4, b4, c4, d4, e4, f4, g4, h4,\n    a5, b5, c5, d5, e5, f5, g5, h5,\n    a6, b6, c6, d6, e6, f6, g6, h6,\n    a7, b7, c7, d7, e7, f7, g7, h7,\n    a8, b8, c8, d8, e8, f8, g8, h8,\n  ];\n\n  export const ranks: Rank[] = [1, 2, 3, 4, 5, 6, 7, 8];\n  export const by_rank = [\n    [a1, b1, c1, d1, e1, f1, g1, h1],\n    [a2, b2, c2, d2, e2, f2, g2, h2],\n    [a3, b3, c3, d3, e3, f3, g3, h3],\n    [a4, b4, c4, d4, e4, f4, g4, h4],\n    [a5, b5, c5, d5, e5, f5, g5, h5],\n    [a6, b6, c6, d6, e6, f6, g6, h6],\n    [a7, b7, c7, d7, e7, f7, g7, h7],\n    [a8, b8, c8, d8, e8, f8, g8, h8],\n  ];\n\n  export const files: File[] = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];\n  export const by_file = [\n    [a1, a2, a3, a4, a5, a6, a7, a8],\n    [b1, b2, b3, b4, b5, b6, b7, b8],\n    [c1, c2, c3, c4, c5, c6, c7, c8],\n    [d1, d2, d3, d4, d5, d6, d7, d8],\n    [e1, e2, e3, e4, e5, e6, e7, e8],\n    [f1, f2, f3, f4, f5, f6, f7, f8],\n    [g1, g2, g3, g4, g5, g6, g7, g8],\n    [h1, h2, h3, h4, h5, h6, h7, h8],\n  ];\n}\n\nexport interface Piece {\n  readonly color: Color;\n  readonly kind: PieceKind;\n}\n\nexport function Piece(color: Color, kind: PieceKind): Piece {\n  return Object.freeze({ color, kind });\n}\n\nexport namespace Piece {\n  export const\n    pawn = 'p',\n    rook = 'r',\n    knight = 'n',\n    bishop = 'b',\n    queen = 'q',\n    king = 'k';\n\n  export const all = [pawn, rook, knight, bishop, queen, king];\n}\n\nexport interface Offset {\n  ranks: number;\n  files: number;\n}\n\nexport function Offset(ranks: number, files: number): Offset {\n  return { ranks, files };\n}\n\nexport namespace Offset {\n  export function eq(a: Offset, b: Offset): boolean;\n  export function eq(a: Offset, ranks: number, files: number): boolean;\n  export function eq(a: Offset, ranks: number | Offset, files?: number) {\n    if (arguments.length == 2)\n      return a.ranks == (ranks as Offset).ranks && a.files == (ranks as Offset).files;\n    return a.ranks == ranks && a.files == files;\n  }\n}\n\nexport interface Board {\n  white_kingside_castle: boolean;\n  white_queenside_castle: boolean;\n\n  black_kingside_castle: boolean;\n  black_queenside_castle: boolean;\n\n  white_passant: boolean[];\n  black_passant: boolean[];\n\n  pieces: Map<Position, Piece>;\n  next: Color;\n}\n\nexport namespace Board {\n  export type Saved = Omit<Board, 'pieces'> & {\n    pieces: [number, Piece][];\n  };\n\n  export function copy(board: Board): Board {\n    return {\n      ...board,\n      pieces: new Map([...board.pieces]),\n    };\n  }\n\n  export function save(board: Board): Saved {\n    return {\n      ...board,\n      pieces: [...board.pieces].map(([position, piece]) => [\n        Position.all.indexOf(position),\n        piece,\n      ]),\n    };\n  }\n\n  export function load(raw: Board.Saved): Board {\n    return {\n      ...raw,\n      pieces: new Map(raw.pieces.map(([i, piece]) => [\n        Position.all[i],\n        piece,\n      ])),\n    };\n  }\n\n  export function empty(): Board {\n    return {\n      white_kingside_castle: true,\n      white_queenside_castle: true,\n\n      black_kingside_castle: true,\n      black_queenside_castle: true,\n\n      white_passant: Position.files.map(() => false),\n      black_passant: Position.files.map(() => false),\n\n      pieces: new Map(),\n      next: Color.white,\n    };\n  }\n\n  export function starting(): Board {\n    const board = Board.empty();\n\n    const back: PieceKind[] = [\n      Piece.rook, Piece.knight, Piece.bishop, Piece.queen,\n      Piece.king, Piece.bishop, Piece.knight, Piece.rook,\n    ];\n\n    for (const pos of Position.by_rank[1])\n      board.pieces.set(pos, Piece(Color.white, Piece.pawn));\n\n    for (const [pos, kind] of zip(Position.by_rank[0], back))\n      board.pieces.set(pos, Piece(Color.white, kind));\n\n    for (const pos of Position.by_rank[6])\n      board.pieces.set(pos, Piece(Color.black, Piece.pawn));\n\n    for (const [pos, kind] of zip(Position.by_rank[7], back))\n      board.pieces.set(pos, Piece(Color.black, kind));\n\n    return board;\n  }\n}\n\nexport interface Move {\n  from: Position;\n  to: Position;\n  promote?: PieceKind;\n}\n\nexport namespace Move {\n  export type Saved = {\n    from: number;\n    to: number;\n    promote: PieceKind | null;\n  };\n\n  type BasicResult = { board: Board; captured?: Piece; promoted?: Piece };\n  type CastleResult = { board: Board; castle: true };\n  type EnPassantResult = { board: Board; en_passant: true; captured: Piece };\n\n  export type Result =\n    | BasicResult\n    | CastleResult\n    | EnPassantResult;\n\n  export function validate(board: Board, move: Move): Result | null {\n    function normal(): BasicResult {\n      assert(piece != null, 'x');\n\n      board = Board.copy(board);\n\n      if (piece.kind == Piece.king) {\n        if (piece.color == Color.white) {\n          board.white_kingside_castle = false;\n          board.white_queenside_castle = false;\n        } else {\n          board.black_kingside_castle = false;\n          board.black_queenside_castle = false;\n        }\n      }\n\n      if (piece.kind == Piece.rook) {\n        if (move.from == Position.a1) board.white_queenside_castle = false;\n        if (move.from == Position.h1) board.white_kingside_castle = false;\n        if (move.from == Position.a8) board.black_queenside_castle = false;\n        if (move.from == Position.h8) board.black_kingside_castle = false;\n      }\n\n      board.white_passant = Position.files.map(() => false);\n      if (piece.kind == Piece.pawn && move.from.rank == 2 && move.to.rank == 4)\n        board.white_passant[Position.files.indexOf(move.from.file)] = true;\n\n      board.black_passant = Position.files.map(() => false);\n      if (piece.kind == Piece.pawn && move.from.rank == 7 && move.to.rank == 5)\n        board.black_passant[Position.files.indexOf(move.from.file)] = true;\n\n      board.pieces.delete(move.from);\n      board.pieces.set(move.to, piece);\n\n      board.next = piece.color == Color.white ? Color.black : Color.white;\n\n      const result: Result = { board };\n      if (captured) result.captured = captured;\n\n      return result;\n    }\n\n    function castle(expected_from: Position, rook_from: Position, rook_to: Position): CastleResult | null {\n      assert(piece != null, 'x');\n\n      if (move.from != expected_from\n        || Position.slide(move.from, move.to, true).some(p => Rules.is_threatened(board, p, piece.color))\n        || Position.slide(move.from, rook_from, false).some(p => board.pieces.has(p)))\n        return null;\n\n      const result = normal();\n\n      const rook = result.board.pieces.get(rook_from);\n      assert(rook != null, 'invalid castle state');\n      result.board.pieces.delete(rook_from);\n      result.board.pieces.set(rook_to, rook);\n\n      return { board: result.board, castle: true };\n    }\n\n    function en_passant(capture: Piece): EnPassantResult {\n      const { board } = normal();\n\n      const pair = [...board.pieces].find(pair => pair[1] == capture);\n      assert(pair != null, 'invalid move');\n      board.pieces.delete(pair[0]);\n\n      return { board, captured: capture, en_passant: true };\n    }\n\n    function promotion(): BasicResult | null {\n      assert(piece != null, 'x');\n\n      const result = normal();\n\n      if (move.to.rank == 1 || move.to.rank == 8) {\n        if (!move.promote)\n          return null;\n\n        result.promoted = piece;\n        board.pieces.set(move.to, {\n          color: piece.color,\n          kind: move.promote,\n        });\n      }\n\n      return result;\n    }\n\n    const piece = board.pieces.get(move.from);\n    if (piece == null)\n      return null;\n\n    const captured = board.pieces.get(move.to);\n    if (captured && captured.color == piece.color)\n      return null;\n\n    const offset = Position.offset(move.from, move.to);\n\n    switch (piece.kind) {\n      case Piece.pawn:\n        const dir = piece.color == Color.white ? 1 : -1;\n        const origin = piece.color == Color.white ? 2 : 7;\n\n        if (Offset.eq(offset, dir * 1, 0) && !captured)\n          return promotion();\n\n        if (Offset.eq(offset, dir * 2, 0) && !captured\n          && move.from.rank == origin && !board.pieces.has(Position.add(move.from, dir * 1, 0)))\n          return promotion();\n\n        if (Offset.eq(offset, dir * 1, 1) || Offset.eq(offset, dir * 1, -1)) {\n          if (captured)\n            return promotion();\n\n          const passe = board.pieces.get(Position.add(move.to, dir * -1, 0));\n          if (passe && ((piece.color == Color.white && move.from.rank == 5\n            && board.black_passant[Position.files.indexOf(move.to.file)])\n            || (piece.color == Color.black && move.from.rank == 4\n              && board.white_passant[Position.files.indexOf(move.to.file)])))\n            return en_passant(passe);\n        }\n\n        return null;\n\n      case Piece.rook:\n        if ((offset.files == 0 || offset.ranks == 0)\n          && Position.slide(move.from, move.to).every(p => !board.pieces.has(p)))\n          return normal();\n\n        return null;\n\n      case Piece.bishop:\n        if (Math.abs(offset.files) == Math.abs(offset.ranks)\n          && Position.slide(move.from, move.to).every(p => !board.pieces.has(p)))\n          return normal();\n\n        return null;\n\n      case Piece.knight:\n        if (Math.abs(offset.ranks) + Math.abs(offset.files) == 3\n          && Math.abs(offset.ranks) != 3 && Math.abs(offset.files) != 3)\n          return normal();\n\n        return null;\n\n      case Piece.queen:\n        if ((Math.abs(offset.files) == Math.abs(offset.ranks) || offset.files == 0 || offset.ranks == 0)\n          && Position.slide(move.from, move.to).every(p => !board.pieces.has(p)))\n          return normal();\n\n        return null;\n\n      case Piece.king:\n        if (Math.abs(offset.ranks) <= 1 && Math.abs(offset.files) <= 1)\n          return normal();\n\n        if (offset.ranks == 0) {\n          if (offset.files == 2) {\n            if (piece.color == Color.white && board.white_kingside_castle)\n              return castle(Position.e1, Position.h1, Position.f1);\n\n            if (piece.color == Color.black && board.black_kingside_castle)\n              return castle(Position.e8, Position.h8, Position.f8);\n          } else if (offset.files == -2) {\n            if (piece.color == Color.white && board.white_queenside_castle)\n              return castle(Position.e1, Position.a1, Position.d1);\n\n            if (piece.color == Color.black && board.black_queenside_castle)\n              return castle(Position.e8, Position.a8, Position.d8);\n          }\n        }\n\n        return null;\n\n      default: throw new Error(`invalid piece kind: ${piece.kind}`);\n    }\n  }\n\n  export function resolve(board: Board, move: Move): Result | null {\n    const piece = board.pieces.get(move.from);\n    if (piece == null || piece.color != board.next)\n      return null;\n\n    const result = validate(board, move);\n    if (result == null)\n      return null;\n\n    if (Rules.check(result.board, piece.color))\n      return null;\n\n    return result;\n  }\n\n  export function save(move: Move): Saved {\n    return {\n      from: Position.all.indexOf(move.from),\n      to: Position.all.indexOf(move.to),\n      promote: move.promote ?? null,\n    };\n  }\n\n  export function load(raw: Move.Saved): Move {\n    return {\n      from: Position.all[raw.from],\n      to: Position.all[raw.to],\n      promote: raw.promote ?? undefined,\n    };\n  }\n}\n\nexport namespace Rules {\n  export function check(board: Board, color?: Color): Color | null {\n    const list: Color[] = color ? [color] : [Color.white, Color.black];\n\n    for (const color of list) {\n      const king = [...board.pieces].find(p => p[1].kind == Piece.king && p[1].color == color);\n      if (king && is_threatened(board, king[0], color)) return color;\n    }\n\n    return null;\n  }\n\n  export function all_legal_moves(board: Board): Map<Position, Map<Position, Move.Result>> {\n    const all = new Map<Position, Map<Position, Move.Result>>();\n\n    for (const from of board.pieces.keys()) {\n      const map = new Map<Position, Move.Result>();\n\n      for (const to of Position.all) {\n        const result = Move.resolve(board, { from, to, promote: Piece.queen });\n        if (result != null) {\n          map.set(to, result);\n        }\n      }\n\n      if (map.size > 0) {\n        all.set(from, map);\n      }\n    }\n\n    return all;\n  }\n\n  export function is_threatened(board: Board, pos: Position, victim: Color) {\n    for (const [from, piece] of board.pieces) {\n      if (piece.color != victim && Move.validate(board, { from, to: pos })) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n\nObject.assign(window, {\n  devtoolsFormatters: [\n    {\n      header(o: any) {\n        if (Position.all.includes(o))\n          return ['span', {}, `${(o as Position).file}${(o as Position).rank}`];\n\n        if ('color' in o && 'kind' in o)\n          return ['span', {}, `${(o as Piece).color}${(o as Piece).kind}`];\n\n        return undefined;\n      },\n\n      hasBody(o: any) {\n        if (Position.all.includes(o))\n          return false;\n\n        if ('color' in o && 'kind' in o)\n          return false;\n\n        return undefined;\n      },\n    },\n  ],\n});\n\nfunction zip<T1, T2>(a: T1[], b: T2[]): [T1, T2][] {\n  if (a.length != b.length)\n    throw new Error('invalid zip');\n\n  return a.map((v, i) => [v, b[i]]);\n}\n","<template>\n  <v-flex :column=\"profile\" :align-center=\"profile\" style=\"overflow: hidden\">\n    <board\n      :style=\"{ 'align-self': profile ? 'initial' : 'start' }\"\n      :color=\"color\"\n      :value=\"lastMove?.result.board ?? board\"\n      :animate=\"animate\"\n      :last-move=\"lastMove\"\n      @move=\"onMove\"\n    />\n\n    <v-flex column class=\"pa-4\" style=\"overflow: hidden\">\n      <slot name=\"actions\" />\n\n      <history\n        :value=\"history\"\n        :active=\"lastMove\"\n        @update:active=\"$emit('update:last-move', $event)\"\n      />\n    </v-flex>\n  </v-flex>\n</template>\n\n<script>\nimport { shallowRef, watch } from 'vue';\n\nimport board from '@/ui/board';\nimport history from '@/ui/history';\n\nexport default {\n  name: 'game',\n  components: {\n    board,\n    history,\n  },\n\n  emits: ['input', 'update:last-move'],\n  props: {\n    color: String,\n    board: Object,\n    history: Object,\n    lastMove: Object,\n  },\n\n  setup(props, { emit }) {\n    const profile = shallowRef(window.innerWidth < window.innerHeight);\n\n    const animate = shallowRef(false);\n\n    watch(() => [props.board, props.lastMove], ([_0, lastMove], [_1, oldLastMove]) => {\n      const index = props.history.indexOf(lastMove);\n      const oldIndex = props.history.indexOf(oldLastMove);\n\n      if (oldLastMove && oldIndex == -1) {\n        emit('update:last-move', null);\n      } else if (index == oldIndex && oldIndex + 2 == props.history.length) {\n        emit('update:last-move', props.history[props.history.length - 1]);\n      }\n    });\n\n    if (props.lastMove == null && props.history.length > 0) {\n      emit('update:last-move', props.history[props.history.length - 1]);\n    }\n\n    watch(() => [props.color, props.lastMove], ([color, lastMove], [oldColor, oldLastMove]) => {\n      const index = props.history.indexOf(lastMove);\n      const oldIndex = props.history.indexOf(oldLastMove);\n\n      animate.value = color == oldColor && Math.abs(index - oldIndex) == 1;\n    });\n\n    return {\n      profile,\n      animate,\n\n      onMove(move) {\n        if (props.lastMove != props.history[props.history.length - 1])\n          return;\n\n        emit('input', move);\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","<template>\n  <div\n    class=\"board\"\n    :class=\"{ grabbing: moving, grab: value.pieces.has(hover) }\"\n    @dragstart.prevent\n    @contextmenu.prevent\n    @mouseup=\"onMouseUp\"\n    @mousemove=\"onMouseMove\"\n    @mousedown=\"onMouseDown\"\n    @mouseleave=\"onMouseLeave\"\n    @touchend.prevent=\"onTouchEnd\"\n    @touchmove.prevent=\"onTouchMove\"\n    @touchstart.prevent=\"onTouchStart\"\n  >\n    <div class=\"body\" ref=\"root\">\n      <template v-for=\"square in squares\" :key=\"square.file + square.rank\">\n        <square\n          :position=\"square\"\n          :active=\"\n            square == moving ||\n            square == hover ||\n            square == lastMove?.move.from ||\n            square == lastMove?.move.to\n          \"\n        />\n      </template>\n\n      <position\n        v-for=\"[pos, piece] in pieces\"\n        :key=\"piece\"\n        :value=\"pos\"\n        :live=\"animate && piece != localMove\"\n        style=\"pointer-events: none\"\n      >\n        <piece :value=\"piece\" v-if=\"pos != moving\" />\n      </position>\n\n      <position\n        v-for=\"pos in legalMoves.get(moving)?.keys() || []\"\n        :key=\"pos\"\n        :value=\"pos\"\n      >\n        <div class=\"legal-move\" :class=\"{ take: value.pieces.has(pos) }\" />\n      </position>\n\n      <grab-overlay :root=\"root\" :moving=\"moving\" :board=\"value\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed, provide, shallowRef, toRef, watch, watchEffect } from 'vue';\n\nimport { Color, Position, Rules, Piece } from '@/chess';\nimport * as sound_assets from '@/assets/sound';\n\nimport piece from './piece';\nimport square from './square';\nimport position from './position';\nimport grabOverlay from './grab-overlay';\n\nconst sounds = {};\n\nfor (const [name, url] of Object.entries(sound_assets)) {\n  const audio = new Audio(url);\n  sounds[name] = audio;\n}\n\nfunction play_sound(name) {\n  const audio = sounds[name];\n  audio.currentTime = 0;\n  audio.play();\n}\n\nexport default {\n  name: 'board',\n  components: {\n    piece,\n    square,\n    position,\n    grabOverlay,\n  },\n\n  emits: ['move'],\n  props: {\n    color: String,\n    value: Object,\n    animate: Boolean,\n    lastMove: Object,\n  },\n\n  setup(props, { emit }) {\n    const root = shallowRef(null);\n\n    provide('color', toRef(props, 'color'));\n\n    const size = shallowRef(Math.floor(Math.min(window.innerWidth, window.innerHeight) / 10));\n    provide('size', size);\n    window.addEventListener('resize', () => {\n      size.value = Math.floor(Math.min(window.innerWidth, window.innerHeight) / 10);\n    });\n\n    const squares = computed(() => {\n      const ranks = Position.by_rank.slice();\n      if (props.color == Color.white) ranks.reverse();\n      return [].concat(...ranks);\n    });\n\n    const hover = shallowRef(null);\n\n    const moving = shallowRef(null);\n    const localMove = shallowRef(null);\n\n    let ordering;\n    watchEffect(() => {\n      if (!ordering || [...props.value.pieces.values()].find(v => !ordering.has(v))) {\n        ordering = new Map([...props.value.pieces.values()].map((a, i) => [a, i]));\n      }\n    });\n\n    watch(() => props.lastMove, (lastMove, _, onInvalidate) => {\n      const i = setImmediate(() => {\n        localMove.value = null;\n\n        if (lastMove) {\n          if (lastMove.result.castle)\n            play_sound('castle');\n\n          else if (lastMove.result.capture)\n            play_sound('capture');\n\n          else if (lastMove.result.promote)\n            play_sound('promote');\n\n          else if (Rules.check(lastMove.result.board))\n            play_sound('move_check');\n\n          else if (lastMove.result.board.next == props.color)\n            play_sound('move_opponent');\n\n          else\n            play_sound('move_self');\n        }\n      });\n\n      onInvalidate(() => clearImmediate(i));\n    });\n\n    const pieces = computed(() => {\n      const list = [...props.value.pieces];\n      list.sort((a, b) => ordering.get(a[1]) - ordering.get(b[1]));\n      return list;\n    });\n\n    const legalMoves = computed(() => {\n      return Rules.all_legal_moves(props.value);\n    });\n\n    const positionAt = (x, y) => {\n      x = Math.floor((x - root.value.offsetLeft) / root.value.offsetWidth * 8);\n      y = Math.floor((y - root.value.offsetTop) / root.value.offsetHeight * 8);\n\n      if (props.color == Color.white)\n        y = 7 - y;\n\n      if (x < 0 || x > 7 || y < 0 || y > 7)\n        return null;\n\n      return Position.by_file[x][y];\n    };\n\n    const startDrag = (x, y) => {\n      moveDrag(x, y);\n\n      if (moving.value) {\n        moving.value = null;\n      } else {\n        const position = positionAt(x, y);\n        if (position && props.value.pieces.has(position))\n          moving.value = position;\n      }\n    };\n\n    const moveDrag = (x, y) => {\n      hover.value = positionAt(x, y);\n    };\n\n    const endDrag = (x, y) => {\n      moveDrag(x, y);\n\n      const position = positionAt(x, y);\n\n      if (!moving.value) return;\n      if (position && moving.value != position) {\n        const piece = props.value.pieces.get(moving.value);\n        localMove.value = piece;\n\n        const move = { from: moving.value, to: position };\n\n        const result = legalMoves.value.get(moving.value)?.get(position);\n        if (result && result.promoted) {\n          move.promote = Piece.queen;\n        }\n\n        emit('move', move);\n      }\n\n      moving.value = null;\n    };\n\n    return {\n      root,\n      squares,\n      hover, moving,\n      legalMoves,\n      pieces,\n      localMove,\n\n      onMouseLeave: e => hover.value = null,\n      onMouseDown: e => startDrag(e.clientX, e.clientY),\n      onMouseMove: e => moveDrag(e.clientX, e.clientY),\n      onMouseUp: e => endDrag(e.clientX, e.clientY),\n\n      onTouchStart: e => startDrag(e.changedTouches[0].clientX, e.changedTouches[0].clientY),\n      onTouchMove: e => moveDrag(e.changedTouches[0].clientX, e.changedTouches[0].clientY),\n      onTouchEnd: e => endDrag(e.changedTouches[0].clientX, e.changedTouches[0].clientY),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.board {\n  border: 10px solid white;\n\n  &.grab {\n    cursor: grab;\n  }\n\n  &.grabbing {\n    cursor: grabbing;\n  }\n\n  .body {\n    position: relative;\n    display: grid;\n    grid-template: repeat(8, auto) / repeat(8, auto);\n  }\n}\n\n.legal-move {\n  position: absolute;\n  top: 35%;\n  left: 35%;\n  width: 30%;\n  height: 30%;\n  background-color: fade-out(black, 0.8);\n  border-radius: 50%;\n\n  &.take {\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n\n    border: solid fade-out(black, 0.8);\n    border-width: min(0.8vw, 0.8vh);\n    border-radius: 50%;\n    background-color: transparent;\n  }\n}\n\n.moving {\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n</style>\n","<template>\n  <div class=\"piece\" :style=\"style\" :class=\"value.color + value.kind\" />\n</template>\n\n<script>\nimport { computed, inject } from 'vue';\n\nexport default {\n  name: 'piece',\n\n  props: {\n    value: Object,\n  },\n\n  setup() {\n    const size = inject('size');\n\n    return {\n      style: computed(() => ({\n        width: `${size.value}px`,\n        height: `${size.value}px`,\n      })),\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/pieces.scss\";\n\n.piece {\n  @include piece;\n\n  background-size: 100%;\n}\n</style>\n","import { render } from \"./piece.vue?vue&type=template&id=58c04a6c&scoped=true\"\nimport script from \"./piece.vue?vue&type=script&lang=js\"\nexport * from \"./piece.vue?vue&type=script&lang=js\"\n\nimport \"./piece.vue?vue&type=style&index=0&id=58c04a6c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-58c04a6c\"\n\nexport default script","<template>\n  <div class=\"square\" :style=\"style\" :class=\"[color, { active }]\" />\n</template>\n\n<script>\nimport { computed, inject } from 'vue';\n\nimport { Position } from '@/chess';\n\nexport default {\n  name: 'square',\n\n  props: {\n    position: Object,\n    active: Boolean,\n  },\n\n  setup(props) {\n    const size = inject('size');\n\n    const color = computed(() => {\n      const i = Position.ranks.indexOf(props.position.rank)\n        + Position.files.indexOf(props.position.file);\n\n      return i % 2 == 0 ? 'black' : 'white';\n    });\n\n    return {\n      color,\n      style: computed(() => ({\n        width: `${size.value}px`,\n        height: `${size.value}px`,\n      })),\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.square {\n  position: relative;\n  pointer-events: none;\n\n  &.white {\n    background-color: #f0d9b5;\n\n    &.active {\n      background-color: mix(#f0d9b5, #ffeb3b, 50%);\n    }\n  }\n\n  &.black {\n    background-color: #b58863;\n\n    &.active {\n      background-color: mix(#b58863, #ffeb3b, 50%);\n    }\n  }\n}\n</style>\n","import { render } from \"./square.vue?vue&type=template&id=fbf8eeda&scoped=true\"\nimport script from \"./square.vue?vue&type=script&lang=js\"\nexport * from \"./square.vue?vue&type=script&lang=js\"\n\nimport \"./square.vue?vue&type=style&index=0&id=fbf8eeda&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-fbf8eeda\"\n\nexport default script","<template>\n  <div class=\"position\" :style=\"style\" :class=\"{ live }\">\n    <slot />\n  </div>\n</template>\n\n<script>\nimport { computed, inject } from 'vue';\nimport { Color, Position } from '@/chess';\n\nexport default {\n  name: 'position',\n\n  props: {\n    live: Boolean,\n    value: Object,\n  },\n\n  setup(props) {\n    const size = inject('size');\n\n    const color = inject('color');\n\n    return {\n      style: computed(() => {\n        let y = Position.ranks.indexOf(props.value.rank);\n        const x = Position.files.indexOf(props.value.file);\n\n        if (color.value == Color.white)\n          y = 7 - y;\n\n        return {\n          width: `${size.value}px`,\n          height: `${size.value}px`,\n          transform: `translate(${x * 100}%, ${y * 100}%)`,\n        };\n      }),\n    };\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.position {\n  position: absolute;\n\n  &.live {\n    will-change: transform;\n    transition: transform 100ms linear;\n  }\n}\n</style>\n","import { render } from \"./position.vue?vue&type=template&id=b46ae8ac&scoped=true\"\nimport script from \"./position.vue?vue&type=script&lang=js\"\nexport * from \"./position.vue?vue&type=script&lang=js\"\n\nimport \"./position.vue?vue&type=style&index=0&id=b46ae8ac&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-b46ae8ac\"\n\nexport default script","<template>\n  <div class=\"grab-overlay\" :style=\"style\">\n    <piece v-if=\"moving\" :value=\"board.pieces.get(moving)\" />\n  </div>\n</template>\n\n<script>\nimport { computed, onBeforeUnmount, reactive } from 'vue';\n\nimport piece from './piece';\n\nexport default {\n  components: {\n    piece,\n  },\n\n  props: {\n    root: Object,\n    board: Object,\n    moving: Object,\n  },\n\n  setup(props) {\n    const mouse = reactive([0, 0]);\n\n    const style = computed(() => props.moving && ({\n      top: `${mouse[1]}px`,\n      left: `${mouse[0]}px`,\n    }));\n\n    function updateMouse(x, y) {\n      mouse[0] = Math.max(Math.min(x - props.root.offsetLeft, props.root.offsetWidth), 0);\n      mouse[1] = Math.max(Math.min(y - props.root.offsetTop, props.root.offsetHeight), 0);\n    }\n\n    function onMouseEvent(e) {\n      updateMouse(e.clientX, e.clientY);\n    }\n\n    function onTouchEvent(e) {\n      updateMouse(e.changedTouches[0].clientX, e.changedTouches[0].clientY);\n    }\n\n    document.body.addEventListener('mousemove', onMouseEvent);\n    document.body.addEventListener('touchstart', onTouchEvent);\n    document.body.addEventListener('touchmove', onTouchEvent);\n\n    onBeforeUnmount(() => {\n      document.body.removeEventListener('mousemove', onMouseEvent);\n      document.body.removeEventListener('touchstart', onTouchEvent);\n      document.body.removeEventListener('touchmove', onTouchEvent);\n    });\n\n    return { style };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.grab-overlay {\n  position: absolute;\n  transform: translate(-50%, -50%);\n}\n</style>\n","import { render } from \"./grab-overlay.vue?vue&type=template&id=3aa4b808&scoped=true\"\nimport script from \"./grab-overlay.vue?vue&type=script&lang=js\"\nexport * from \"./grab-overlay.vue?vue&type=script&lang=js\"\n\nimport \"./grab-overlay.vue?vue&type=style&index=0&id=3aa4b808&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3aa4b808\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=186b735b&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=186b735b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-186b735b\"\n\nexport default script","<template>\n  <v-flex column class=\"history py-1\" v-scroll-lock>\n    <v-flex\n      align-baseline\n      v-for=\"(row, i) in rows\"\n      :key=\"i\"\n      class=\"row px-4\"\n      :class=\"{ even: i % 2 == 1 }\"\n    >\n      <v-text style=\"width: 3ch\">{{ i + 1 }}.</v-text>\n\n      <v-button\n        :text=\"row[0] != active\"\n        small\n        class=\"move ml-2\"\n        @click=\"preview(row[0])\"\n      >\n        <v-text bold body>{{ row[0].notation }}</v-text>\n      </v-button>\n\n      <v-button\n        :text=\"row[1] != active\"\n        small\n        class=\"move ml-2\"\n        @click=\"preview(row[1])\"\n        v-if=\"row[1]\"\n      >\n        <v-text bold body>{{ row[1].notation }}</v-text>\n      </v-button>\n    </v-flex>\n  </v-flex>\n</template>\n\n<script>\nimport { computed } from 'vue';\n\nexport default {\n  name: 'history',\n\n  emits: ['update:active'],\n  props: {\n    value: Array,\n    active: Object,\n  },\n\n  setup(props, { emit }) {\n    const rows = computed(() => {\n      const rows = [];\n\n      for (let i = 0; i < props.value.length; i += 2) {\n        rows.push([props.value[i], props.value[i + 1]]);\n      }\n\n      return rows;\n    });\n\n    return {\n      rows,\n\n      preview(i) {\n        emit('update:active', i);\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.history {\n  width: 40ch;\n  overflow-y: auto;\n}\n\n.move {\n  span {\n    min-width: 8ch;\n    text-align: start;\n    text-transform: none;\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=b2b0de7a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=b2b0de7a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b2b0de7a\"\n\nexport default script","import { render } from \"./game.vue?vue&type=template&id=cf4e7b94&scoped=true\"\nimport script from \"./game.vue?vue&type=script&lang=js\"\nexport * from \"./game.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-cf4e7b94\"\n\nexport default script","<template>\n  <game\n    :color=\"color\"\n    :board=\"board\"\n    :history=\"history\"\n    v-model:last-move=\"lastMove\"\n    @input=\"onMove\"\n  >\n    <template v-slot:actions>\n      <slot name=\"actions\" />\n\n      <v-flex class=\"pb-4\">\n        <!-- <v-button small @click=\"flip\">\n                    <span>flip board</span>\n                </v-button> -->\n\n        <v-button small :disabled=\"!lastMove\" class=\"mr-4\" @click=\"reset\">\n          <span>reset</span>\n        </v-button>\n\n        <v-button small :disabled=\"latest\" @click=\"restore\">\n          <span>revert</span>\n        </v-button>\n      </v-flex>\n    </template>\n  </game>\n</template>\n\n<script>\nimport { computed, markRaw, reactive, shallowRef } from 'vue';\n\nimport { Color, Board, Move } from '@/chess';\nimport { notate } from '@/history';\n\nimport game from '@/ui/game';\n\nexport default {\n  name: 'local-game',\n  components: {\n    game,\n  },\n\n  setup() {\n    const color = shallowRef(Color.white);\n    const board = shallowRef(Board.starting());\n    const history = reactive([]);\n\n    const lastMove = shallowRef(null);\n\n    const latest = computed(() => lastMove.value == history[history.length - 1]);\n\n    return {\n      latest, lastMove,\n\n      color, board, history,\n\n      onMove(move) {\n        const result = Move.resolve(board.value, move);\n        if (result == null) return;\n\n        const notation = notate(board.value, move, result);\n\n        board.value = result.board;\n        history.push(markRaw({ notation, result, move }));\n      },\n\n      flip() {\n        color.value = color.value == Color.black ? Color.white : Color.black;\n      },\n\n      reset() {\n        board.value = Board.starting();\n        history.length = 0;\n        lastMove.value = null;\n      },\n\n      restore() {\n        board.value = lastMove.value.result.board;\n        history.length = history.indexOf(lastMove.value) + 1;\n      },\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import { assert } from '@mfro/ts-common/assert';\n\nimport { Board, Move, Piece, Rules } from './chess';\n\nconst letters = new Map([\n  [Piece.pawn, ''],\n  [Piece.rook, 'R'],\n  [Piece.knight, 'N'],\n  [Piece.bishop, 'B'],\n  [Piece.queen, 'Q'],\n  [Piece.king, 'K'],\n]);\n\nexport interface HistoryEntry {\n  move: Move;\n  result: Move.Result;\n  notation: string;\n}\n\nexport function notate(board: Board, move: Move, result: Move.Result) {\n  let text = '';\n  const piece = board.pieces.get(move.from);\n  assert(piece != null, 'invalid move');\n\n  if ('castle' in result) {\n    if (move.to.file == 'g')\n      text = '0-0';\n    else\n      text = '0-0-0';\n  } else {\n    text += letters.get(piece.kind);\n\n    const ambiguous = [...board.pieces].filter(([pos, p]) => pos != move.from\n      && p.color == piece.color && p.kind == piece.kind\n      && Move.resolve(board, { from: pos, to: move.to }));\n\n    if (ambiguous.length > 0) {\n      if (!ambiguous.find(pair => pair[0].file == move.from.file))\n        text += move.from.file;\n      else if (!ambiguous.find(pair => pair[0].rank == move.from.rank))\n        text += move.from.rank;\n      else\n        text += move.from.file + move.from.rank;\n    }\n\n    if (result.captured) {\n      text += 'x';\n    }\n\n    text += move.to.file + move.to.rank;\n\n    if ('promoted' in result && result.promoted) {\n      assert(move.promote != null, 'invalid move');\n      text += letters.get(move.promote);\n    }\n  }\n\n  if (Rules.check(result.board)) {\n    if (Rules.all_legal_moves(result.board).size == 0)\n      text += '#';\n    else\n      text += '+';\n  }\n\n  return text;\n}\n","import { render } from \"./local-game.vue?vue&type=template&id=1a51150a&scoped=true\"\nimport script from \"./local-game.vue?vue&type=script&lang=js\"\nexport * from \"./local-game.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-1a51150a\"\n\nexport default script","import { render } from \"./main.vue?vue&type=template&id=52b9b3f6&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\nimport \"./main.vue?vue&type=style&index=0&id=52b9b3f6&lang=scss\"\nimport \"./main.vue?vue&type=style&index=1&id=52b9b3f6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-52b9b3f6\"\n\nexport default script","import { createApp, markRaw, reactive } from 'vue';\n\nimport { framework } from '@mfro/vue-ui';\n\nimport { on } from '@mfro/ts-common/events';\nimport { assert } from '@mfro/ts-common/assert';\nimport { Packet, receive, send } from '@mfro/ts-common/sockets/client';\n\nimport main from './main.vue';\n\nimport { Board, Color, Move } from './chess';\nimport { HistoryEntry, notate } from './history';\n\nconst RoomCode = Packet.define<string>();\n\nconst GetState = Packet.define();\nconst SetState = Packet.define<{ board: Board.Saved; color: Color; history: Move.Saved[] }>();\n\nconst AddMove = Packet.define<Move.Saved>();\n\ninterface RemoteGame {\n  color: Color;\n  board: Board;\n  history: HistoryEntry[];\n\n  code: string | null;\n  state: number;\n\n  reset: () => void;\n  move: (move: Move) => void;\n}\n\nfunction remote_game() {\n  let socket: WebSocket;\n  const base = window.location.host == 'box:8080' ? 'ws://box:8081/' : 'wss://api.mfro.me/chess/play';\n\n  const game: RemoteGame = reactive({\n    color: Color.white,\n    board: Board.starting(),\n    history: reactive([]),\n\n    code: null,\n    state: 0,\n\n    reset() {\n      game.board = Board.starting();\n      game.color = Color.other(game.color);\n      game.history.length = 0;\n\n      send_state();\n    },\n\n    move(move: Move) {\n      const piece = game.board.pieces.get(move.from);\n      if (piece?.color != game.color)\n        return;\n\n      if (apply(move)) {\n        send(socket, AddMove, Move.save(move));\n      }\n    },\n  });\n\n  function apply(move: Move): boolean {\n    const result = Move.resolve(game.board, move);\n    if (result == null)\n      return false;\n\n    const notation = notate(game.board, move, result);\n\n    game.board = result.board;\n    game.history.push(markRaw({ move, result, notation }));\n\n    return true;\n  }\n\n  function send_state() {\n    const board = Board.save(Board.starting());\n    const color = Color.other(game.color);\n    const history = game.history.map(h => Move.save(h.move));\n\n    send(socket, SetState, { board, color, history });\n  }\n\n  const url = new URL(window.location.href);\n  game.code = url.searchParams.get('code');\n\n  if (game.code) {\n    socket = new WebSocket(`${base}?code=${game.code}`);\n    game.state = 0;\n  } else {\n    socket = new WebSocket(`${base}`);\n    game.state = 0;\n  }\n\n  on(receive(socket, RoomCode), code => {\n    if (code != game.code) {\n      const url = new URL(window.location.href);\n      url.searchParams.delete('code');\n      window.history.replaceState(null, document.title, url.pathname + url.search);\n    }\n\n    game.code = code;\n\n    if (game.state == 0) {\n      send(socket, GetState);\n      game.state = 1;\n    }\n  });\n\n  on(receive(socket, GetState), () => {\n    game.state = 2;\n    send_state();\n\n    assert(game.code != null, 'code is not set');\n    const url = new URL(window.location.href);\n    url.searchParams.set('code', game.code);\n    window.history.replaceState(null, document.title, url.pathname + url.search);\n  });\n\n  on(receive(socket, SetState), ({ board, history, color }) => {\n    game.state = 2;\n\n    game.board = Board.load(board);\n    game.color = color;\n    game.history.length = 0;\n\n    for (const move of history) {\n      assert(apply(Move.load(move)), 'invalid comms');\n    }\n  });\n\n  on(receive(socket, AddMove), (move) => {\n    assert(apply(Move.load(move)), 'invalid comms');\n  });\n\n  return game;\n}\n\nconst game: RemoteGame = remote_game();\n\nconst app = createApp(main);\napp.use(framework);\n\napp.provide('remote', game);\n\nconst scroll_lock = new Map<HTMLElement, { lock: boolean; consumed: boolean }>();\napp.directive('scroll-lock', {\n  beforeUpdate(el, binding) {\n    const ctx = scroll_lock.get(el);\n    assert(ctx != null, 'oop');\n\n    if (ctx.consumed) {\n      ctx.lock = el.scrollHeight == el.clientHeight + el.scrollTop;\n    }\n\n    ctx.consumed = false;\n  },\n\n  updated(el, binding) {\n    const ctx = scroll_lock.get(el);\n    assert(ctx != null, 'oop');\n\n    if (ctx.lock) {\n      el.scroll(0, el.scrollHeight - el.clientHeight);\n    }\n\n    ctx.consumed = true;\n  },\n\n  mounted(el, binding, vnode) {\n    scroll_lock.set(el, {\n      lock: el.scrollHeight == el.clientHeight + el.scrollTop,\n      consumed: true,\n    });\n  },\n});\n\napp.mount('#app');\n","module.exports = \"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAOsBFNm3RALE27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEjTbuMU6uEElTDZ1OsggGR7AEAAAAAAACqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU4LjI3LjEwM1dBjUxhdmY1OC4yNy4xMDNEiYhAaaAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgRhjopNPcHVzSGVhZAECOAGAuwAAAAAAElTDZwEAAAAAAAFYc3MBAAAAAAAAxmPAAQAAAAAAAABnyAEAAAAAAAAZRaOKRU5DT0RFRF9CWUSHiVBybyBUb29sc2fIAQAAAAAAACZFo5RPUklHSU5BVE9SX1JFRkVSRU5DRUSHjGFhTzRLWkFuVnZTa2fIAQAAAAAAABRFo4REQVRFRIeKMjAxOS0wNC0yMWfIAQAAAAAAAB1Fo45USU1FX1JFRkVSRU5DRUSHiTE3MjgwMDAwMGfIAQAAAAAAABpFo4dFTkNPREVSRIeNTGF2ZjU4LjI3LjEwM3NzAQAAAAAAADpjwAEAAAAAAAAEY8WBAWfIAQAAAAAAACJFo4dFTkNPREVSRIeVTGF2YzU4LjUyLjEwMCBsaWJvcHVzc3MBAAAAAAAAOmPAAQAAAAAAAARjxYEBZ8gBAAAAAAAAIkWjiERVUkFUSU9ORIeUMDA6MDA6MDAuMjA1MDAwMDAwAAAfQ7Z1AQAAAAAAC6/ngQCjQa+BAACA/HaoaO+bbQFYQJldB2ytYUIMFexw++wHSvsTYTo1H9rWOxoWQC8pm3ZO6XSD25Cl81Q+DZCLA8aWWZ0UAD2lRLMdUH+EqWv74OPZzDVb/kgxYXs/xfoqvFTRcEUFndScx9rAH3FQCFF6oAhz2x5ALM6nJ0LZzGHtF61WTesVCtOIpiVwLvcrdrh229+IADC6phu33Qw6GfP2M9VWQ9+U/puhHJoWsr4ONpQEbCP/1oQ3afWEyeKlixPV8OqQabIms+dzzb69h+QXqAEl7k5QyQMTriJriZO+vd80PWAkI8+FmGS5s+pg0nfkC7ylAiMeAgqn4AjIwzgT1w8f+Lil8chBiWdtioCghDubqMBGL3Gz5rAJmFdRaH0g0cH/nr6U9CZQM6fMtS3N+vxBS/a8hxO6IvzuOFrBWGDAh4iuGZoXxn0nbd+sA8E3EQR6o/WLEfj2cTPqxwVVGG959wRAxbzMfGEdNph+RYhDnPPXBqf3lZCs0+SVsJPCr1POypDc7XvYVAAmzEUmacSPHxNAMbjVsLjqyys5Cb76Kv+4zAJJ/2kt2Jt/D1/rwKNAzYEAFYD8U5LRxZOHsiktKbF3TYXQ3NJyMLKg4z2GjwV/HCpoxGkKOYGNRH/nsl2EG6dgaSN7GBfVECu2WLXOqf4YehiwR1vurDCtsu2idYO4hDvO2yyeyPLPRMpCG0aydrfFJGJfRmpj7UivYN69WtcHLIJJEjULyRpSgSjAPKzb27j7rJK2ltI+Rm4VUISrk3x4Qyi04Uo1vA/CC1qJFpwZiBVwH9MBSXFXDfbvrgvkZJa1geTti3Xl7WCVZZzOrfJLZNwbPBqqWmBaBf+jQOmBACmA/FONG4xxakVGx2KGDUw58BQ5hdpaNeHLLjRdHOmKlmAMXjpcS2f14dMWPgrobtAgoss/JUDmMIeVj1klWG6mjEHdb4Qaf4n0INR0zfvkQkaIbbdtnu3F7akd5rUmQf+rV5CA8Jz4gBgkMGFZ6iDsRmgEO93WRjZoUq9BIhZ4I/NRZDJr4gXqAb9Lynl3kODSJTEvF6tr7KMzBgvEPX8TtgTqGG/K01zerjxyuYTi/SjJIyNVRFMafCFmNFUbQpwrkf9vcYvImJvZtVkIxjDwYBvku01fgDhqRNwSHDLRB9f79+wVU6NA9YEAPYD8XuJi+z8PybjZh//Z2Le3qba9m8cR3ARyvnqPKcXQBC9P0aIKBSNc8Lc/wsBrW7Tp5lV600+gVBS9XGefaDKtmC8gSlh/DwDhpqwTHK07lOgxkJQYB3Xrx2q1Mp0u/OIGMeKhOD/FHfrAYsDI2NRIxYdloSA3zkSVKXFZOJAxyWC+PJ8aik3EDdB7Foem5RFOwpStICW5nrxluZPcAL4snw8AylQOtCAt7j+IDXU2P9Xj3fYRq9ZBwmPbG1xwuL6CihrvMWHkiE+tNYQa0gXuWI5Y6dUNBJ20K16BBcNuV6nO5EJLAcl+d29Dk9w9cZPJo0FsgQBRgPx78qMm1jaXAdsHc2JxwaLmpWHRuvSig2WlrtQ784yAOcwnuDeTgNTxxYEshxCLCaumkhMknaRzHo3bVq+Cj+MnzmJPixhp+zsRUAw8eWO0/YuFRqOlf+E15ovIw0H+6hMc1jmiG/A87mp02l1FcOR/iL2ufOC2Nj2SH+LpOO/hVYbr2jjfeX/m2khwCeJVzMVgKYN1hIucsV8hd7JcLTJoOQRRM8ruvvUwk5SLW4JWXZ1wQQ2eiEdxj6+3WnnYqjynsg/Kb4YpJGMIvnRVd096Vlz7W/6ShMnZoWeKtZBdx6r04nth/TZYZ1pfwXPfbPLDJFh7YJ4oGWusEafWZHy+vDD7uPQqLm7xJWI8tcTO+VoS/hmD4Nko+jHrRiRNi0nGXGn6uLfWx3FlJzJtS+FKGf6sJqy9uIQYA5rEI66LnqXKlIhphiRGa8vE1b27Lr/9XpFGatMG3neN4rmeEAtBvK7BK5snoaNA1oEAZYD8VEUYd+kEv8pj052hpO280tOwxnb1hXeL0hJeTZ2UngmAxeanBWKR25BRpsC/kol0PqfJt3sI7YN3GcwQJg5bwWEdNQNI4TdP0nBzrhOAfPWM4Tyi3I/jJ/InXkbl2nVE/AM47aTn6t315B32s0pvnBXyTlJsSeCbe1scEm3xUCt3bcfbM0HzLhxmVQtu1EFMa6jdULFEKj0faxEEG3nLJR9K7xxDqaWR+kGaNbdOcN/526LnUXu/r/6DyxmD88//aBQT/hV5n63VZ94IThc7DIijQNmBAHmA/F678O42OQkZcwhKpoQeob69wmkmsSoTRPGB+u90ebLwgBoB1xEN6hbn4zHokE4DAeClFv96faMcjgImsiQvLdpsPT5Nbb9XKy3GjUjn28MUMOBFWpQcrGW0Wt4uaAbyKaOnyxfDPigJ8glKGhMaPwDvMif5vbGIzxjk0a23BuT8vUw9XgxcG7Zpuhq71NzBPixuwze5M892xrI7fK2J7MlcIj0D955dd47fW+sG/KtRJCIWUWu++j+nzT+AEz5ipkYNgBopAmUgU4TC+EDeoMQ2fYkFo0DfgQCNgPxgezuvu7Eu0yu4W3PgXutotobfQNSfHnmyOVz5WKsikYqKGcnQX5NbyJjr/QGbugB9TA2kZNnKVEQB98TXsafrN1sgMqUW5J1wl4TIBh22qdzgdBaM5tq048jfmr+iKYXGLTU82nTnTJutlVnUAZTbiGiivLgIYUYh+no8ZtqnJQcLWbarsKyDYcBdDOWZAVbERYNUJ4bQ9+M7AfikPx9iT84hfW76PdeSukCEjliyv03szTpFFIWq0o9LgYl4BBUZnY+me+WavLyXylRc+zXTc9HGTEiEmipYa6NA3IEAoYD8YHJ2U9KefyER9W0Rx252BlJjzWOyRCu3mNQCTjY8QEF/TXRbxRot+cA8rhPo8AuoqNT3MF7TGsJWB6SFJDt4cG6pMBcZH4JrTJSPn9mv80wS2EH1snPhe5/P1t+DD4gMk2EMNIQ66eXi466E4hcDX+HP2vq17QcoEM8l6o7vSFRneOdnLCTMaEmckbkKu9J4QEecTQpkA5gfCDeRuysCST/ufmhXfknaqMOws21AL6aW23F9dnsZ/maudwdptPk3QzDuSm3wsaJ1NyJtWNvQxglS/9y/AwWjQNuBALWA/F7dX8VF7Il7dNITU0K706a6kjR7Oq1ATL0tM1FvuEHwV4BGNHRJ28FZXLoPF5IiH+/hxPgCTnpXJkWOW7ciDjkBwfIfJ/SNB9F5VrsSrUOO5glLz/w21+Ty40Ihjy4GtISTVLWvDkyXFCWGeqV05UF7aPeHFldaxT8EDxyFlzexizH3CMmIAWyblbW+3/UBCHlLayu5FkDZuqP+q18wvLqNZP/PfrA5xBndk4xCYn7hj/qFOxdB6Gprbcyo9F4aTX3oNC72IQZcYJQzslqlr0IvQbEEf8ugAQAAAAAAAXqhQXCBAMkA/H3HveavFvAPIeiIkAGKgTnl9RQPJj2a8guz5MENIoOPWn2wDxJgAAAAD1n2JOuJyo4Mpwzy66nAn0xj4uHxSPPQaVFC5SCIhRf7ckCfROWUuGqRgDa9+JImYvbKEB9vdJuYSUfRME25nqLurmria0uFgnrcIKosNp7cV3iwcaWQJLM64bRh1Ppaxj305rDUQAJreR4yqzKAW22eRzLG82Ehh136zomNE5eApRhUT6O0pcxjNukwFFyjAa04AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEJaP2EJMWopEkbhy6jyvuuOFBAiFKrljn1u1EbOQwV9P3ko+LKXvMRICM3MDqae8i7m2N/Wnc37pfTKdOs344vMb7JCny98V6HBSefS2CVjJaaRNaZujqgpIyKgEdp/vUKkEOKQAgerhdeWAAAAHjfkEcACRycjyhq7y7gmb/eICSk+Q20gVAxYs0xeWu2/dhCnWihAD4RfE=\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./piece.vue?vue&type=style&index=0&id=58c04a6c&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./main.vue?vue&type=style&index=1&id=52b9b3f6&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"media/castle.21ec1860.webm\";"],"sourceRoot":""}